function FCKeditor_IsCompatibleBrowser(){var e=navigator.userAgent.toLowerCase();if(false&&e.indexOf("mac")==-1){var t=navigator.appVersion.match(/MSIE (.\..)/)[1];return t>=5.5}if(navigator.product=="Gecko"&&navigator.productSub>=20030210&&!(typeof opera=="object"&&opera.postError))return true;if(window.opera&&window.opera.version&&parseFloat(window.opera.version())>=9.5)return true;if(e.indexOf(" adobeair/")!=-1)return e.match(/ adobeair\/(\d+)/)[1]>=1;if(e.indexOf(" applewebkit/")!=-1)return e.match(/ applewebkit\/(\d+)/)[1]>=522;return false}var FCKeditor=function(e,t,n,r,i){this.InstanceName=e;this.Width=t||"100%";this.Height=n||"200";this.ToolbarSet=r||"Default";this.Value=i||"";this.BasePath=FCKeditor.BasePath;this.CheckBrowser=true;this.DisplayErrors=true;this.Config=new Object;this.OnError=null};FCKeditor.BasePath="/fckeditor/";FCKeditor.MinHeight=200;FCKeditor.MinWidth=750;FCKeditor.prototype.Version="2.6.6";FCKeditor.prototype.VersionBuild="25427";FCKeditor.prototype.Create=function(){document.write(this.CreateHtml())};FCKeditor.prototype.CreateHtml=function(){if(!this.InstanceName||this.InstanceName.length==0){this._ThrowError(701,"You must specify an instance name.");return""}var e="";if(!this.CheckBrowser||this._IsCompatibleBrowser()){e+='<input type="hidden" id="'+this.InstanceName+'" name="'+this.InstanceName+'" value="'+this._HTMLEncode(this.Value)+'" style="display:none" />';e+=this._GetConfigHtml();e+=this._GetIFrameHtml()}else{var t=this.Width.toString().indexOf("%")>0?this.Width:this.Width+"px";var n=this.Height.toString().indexOf("%")>0?this.Height:this.Height+"px";e+='<textarea name="'+this.InstanceName+'" rows="4" cols="40" style="width:'+t+";height:"+n;if(this.TabIndex)e+='" tabindex="'+this.TabIndex;e+='">'+this._HTMLEncode(this.Value)+"</textarea>"}return e};FCKeditor.prototype.ReplaceTextarea=function(){if(document.getElementById(this.InstanceName+"___Frame"))return;if(!this.CheckBrowser||this._IsCompatibleBrowser()){var e=document.getElementById(this.InstanceName);var t=document.getElementsByName(this.InstanceName);var n=0;while(e||n==0){if(e&&e.tagName.toLowerCase()=="textarea")break;e=t[n++]}if(!e){alert('Error: The TEXTAREA with id or name set to "'+this.InstanceName+'" was not found');return}e.style.display="none";if(e.tabIndex)this.TabIndex=e.tabIndex;this._InsertHtmlBefore(this._GetConfigHtml(),e);this._InsertHtmlBefore(this._GetIFrameHtml(),e)}};FCKeditor.prototype._InsertHtmlBefore=function(e,t){if(t.insertAdjacentHTML)t.insertAdjacentHTML("beforeBegin",e);else{var n=document.createRange();n.setStartBefore(t);var r=n.createContextualFragment(e);t.parentNode.insertBefore(r,t)}};FCKeditor.prototype._GetConfigHtml=function(){var e="";for(var t in this.Config){if(e.length>0)e+="&";e+=encodeURIComponent(t)+"="+encodeURIComponent(this.Config[t])}return'<input type="hidden" id="'+this.InstanceName+'___Config" value="'+e+'" style="display:none" />'};FCKeditor.prototype._GetIFrameHtml=function(){var e="fckeditor.html";try{if(/fcksource=true/i.test(window.top.location.search))e="fckeditor.original.html"}catch(t){}var n=this.BasePath+"editor/"+e+"?InstanceName="+encodeURIComponent(this.InstanceName);if(this.ToolbarSet)n+="&Toolbar="+this.ToolbarSet;var r='<iframe id="'+this.InstanceName+'___Frame" src="'+n+'" width="'+this.Width+'" height="'+this.Height;if(this.TabIndex)r+='" tabindex="'+this.TabIndex;r+='" frameborder="0" scrolling="no"></iframe>';return r};FCKeditor.prototype._IsCompatibleBrowser=function(){return FCKeditor_IsCompatibleBrowser()};FCKeditor.prototype._ThrowError=function(e,t){this.ErrorNumber=e;this.ErrorDescription=t;if(this.DisplayErrors){document.write('<div style="COLOR: #ff0000">');document.write("[ FCKeditor Error "+this.ErrorNumber+": "+this.ErrorDescription+" ]");document.write("</div>")}if(typeof this.OnError=="function")this.OnError(this,e,t)};FCKeditor.prototype._HTMLEncode=function(e){if(typeof e!="string")e=e.toString();e=e.replace(/&/g,"&").replace(/"/g,""").replace(/</g,"<").replace(/>/g,">");return e};(function(){var e=function(e){var t=new FCKeditor(e.name);t.Width=Math.max(e.offsetWidth,FCKeditor.MinWidth);t.Height=Math.max(e.offsetHeight,FCKeditor.MinHeight);return t};FCKeditor.ReplaceAllTextareas=function(){var t=document.getElementsByTagName("textarea");for(var n=0;n<t.length;n++){var r=null;var i=t[n];var s=i.name;if(!s||s.length==0)continue;if(typeof arguments[0]=="string"){var o=new RegExp("(?:^| )"+arguments[0]+"(?:$| )");if(!o.test(i.className))continue}else if(typeof arguments[0]=="function"){r=e(i);if(arguments[0](i,r)===false)continue}if(!r)r=e(i);r.ReplaceTextarea()}}})()