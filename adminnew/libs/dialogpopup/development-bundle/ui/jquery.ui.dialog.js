(function(e,t){var n="ui-dialog "+"ui-widget "+"ui-widget-content "+"ui-corner-all ",r={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},i={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},s=e.attrFn||{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true,click:true};e.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(t){var n=e(this).css(t).offset().top;if(n<0){e(this).css("top",t.top-n)}}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle=""}this.options.title=this.options.title||this.originalTitle;var t=this,r=t.options,i=r.title||"&#160;",s=e.ui.dialog.getTitleId(t.element),o=(t.uiDialog=e("<div></div>")).appendTo(document.body).hide().addClass(n+r.dialogClass).css({zIndex:r.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(n){if(r.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE){t.close(n);n.preventDefault()}}).attr({role:"dialog","aria-labelledby":s}).mousedown(function(e){t.moveToTop(false,e)}),u=t.element.show().removeAttr("title").addClass("ui-dialog-content "+"ui-widget-content").appendTo(o),a=(t.uiDialogTitlebar=e("<div></div>")).addClass("ui-dialog-titlebar "+"ui-widget-header "+"ui-corner-all "+"ui-helper-clearfix").prependTo(o),f=e('<a href="#"></a>').addClass("ui-dialog-titlebar-close "+"ui-corner-all").attr("role","button").hover(function(){f.addClass("ui-state-hover")},function(){f.removeClass("ui-state-hover")}).focus(function(){f.addClass("ui-state-focus")}).blur(function(){f.removeClass("ui-state-focus")}).click(function(e){t.close(e);return false}).appendTo(a),l=(t.uiDialogTitlebarCloseText=e("<span></span>")).addClass("ui-icon "+"ui-icon-closethick").text(r.closeText).appendTo(f),c=e("<span></span>").addClass("ui-dialog-title").attr("id",s).html(i).prependTo(a);if(e.isFunction(r.beforeclose)&&!e.isFunction(r.beforeClose)){r.beforeClose=r.beforeclose}a.find("*").add(a).disableSelection();if(r.draggable&&e.fn.draggable){t._makeDraggable()}if(r.resizable&&e.fn.resizable){t._makeResizable()}t._createButtons(r.buttons);t._isOpen=false;if(e.fn.bgiframe){o.bgiframe()}},_init:function(){if(this.options.autoOpen){this.open()}},destroy:function(){var e=this;if(e.overlay){e.overlay.destroy()}e.uiDialog.hide();e.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");e.uiDialog.remove();if(e.originalTitle){e.element.attr("title",e.originalTitle)}return e},widget:function(){return this.uiDialog},close:function(t){var n=this,r,i;if(false===n._trigger("beforeClose",t)){return}if(n.overlay){n.overlay.destroy()}n.uiDialog.unbind("keypress.ui-dialog");n._isOpen=false;if(n.options.hide){n.uiDialog.hide(n.options.hide,function(){n._trigger("close",t)})}else{n.uiDialog.hide();n._trigger("close",t)}e.ui.dialog.overlay.resize();if(n.options.modal){r=0;e(".ui-dialog").each(function(){if(this!==n.uiDialog[0]){i=e(this).css("z-index");if(!isNaN(i)){r=Math.max(r,i)}}});e.ui.dialog.maxZ=r}return n},isOpen:function(){return this._isOpen},moveToTop:function(t,n){var r=this,i=r.options,s;if(i.modal&&!t||!i.stack&&!i.modal){return r._trigger("focus",n)}if(i.zIndex>e.ui.dialog.maxZ){e.ui.dialog.maxZ=i.zIndex}if(r.overlay){e.ui.dialog.maxZ+=1;r.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ)}s={scrollTop:r.element.scrollTop(),scrollLeft:r.element.scrollLeft()};e.ui.dialog.maxZ+=1;r.uiDialog.css("z-index",e.ui.dialog.maxZ);r.element.attr(s);r._trigger("focus",n);return r},open:function(){if(this._isOpen){return}var t=this,n=t.options,r=t.uiDialog;t.overlay=n.modal?new e.ui.dialog.overlay(t):null;t._size();t._position(n.position);r.show(n.show);t.moveToTop(true);if(n.modal){r.bind("keypress.ui-dialog",function(t){if(t.keyCode!==e.ui.keyCode.TAB){return}var n=e(":tabbable",this),r=n.filter(":first"),i=n.filter(":last");if(t.target===i[0]&&!t.shiftKey){r.focus(1);return false}else if(t.target===r[0]&&t.shiftKey){i.focus(1);return false}})}e(t.element.find(":tabbable").get().concat(r.find(".ui-dialog-buttonpane :tabbable").get().concat(r.get()))).eq(0).focus();t._isOpen=true;t._trigger("open");return t},_createButtons:function(t){var n=this,r=false,i=e("<div></div>").addClass("ui-dialog-buttonpane "+"ui-widget-content "+"ui-helper-clearfix"),o=e("<div></div>").addClass("ui-dialog-buttonset").appendTo(i);n.uiDialog.find(".ui-dialog-buttonpane").remove();if(typeof t==="object"&&t!==null){e.each(t,function(){return!(r=true)})}if(r){e.each(t,function(t,r){r=e.isFunction(r)?{click:r,text:t}:r;var i=e('<button type="button"></button>').click(function(){r.click.apply(n.element[0],arguments)}).appendTo(o);e.each(r,function(e,t){if(e==="click"){return}if(e in s){i[e](t)}else{i.attr(e,t)}});if(e.fn.button){i.button()}});i.appendTo(n.uiDialog)}},_makeDraggable:function(){function s(e){return{position:e.position,offset:e.offset}}var t=this,n=t.options,r=e(document),i;t.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,o){i=n.height==="auto"?"auto":e(this).height();e(this).height(e(this).height()).addClass("ui-dialog-dragging");t._trigger("dragStart",r,s(o))},drag:function(e,n){t._trigger("drag",e,s(n))},stop:function(o,u){n.position=[u.position.left-r.scrollLeft(),u.position.top-r.scrollTop()];e(this).removeClass("ui-dialog-dragging").height(i);t._trigger("dragStop",o,s(u));e.ui.dialog.overlay.resize()}})},_makeResizable:function(n){function u(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}n=n===t?this.options.resizable:n;var r=this,i=r.options,s=r.uiDialog.css("position"),o=typeof n==="string"?n:"n,e,s,w,se,sw,ne,nw";r.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:r.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:r._minHeight(),handles:o,start:function(t,n){e(this).addClass("ui-dialog-resizing");r._trigger("resizeStart",t,u(n))},resize:function(e,t){r._trigger("resize",e,u(t))},stop:function(t,n){e(this).removeClass("ui-dialog-resizing");i.height=e(this).height();i.width=e(this).width();r._trigger("resizeStop",t,u(n));e.ui.dialog.overlay.resize()}}).css("position",s).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;if(e.height==="auto"){return e.minHeight}else{return Math.min(e.minHeight,e.height)}},_position:function(t){var n=[],r=[0,0],i;if(t){if(typeof t==="string"||typeof t==="object"&&"0"in t){n=t.split?t.split(" "):[t[0],t[1]];if(n.length===1){n[1]=n[0]}e.each(["left","top"],function(e,t){if(+n[e]===n[e]){r[e]=n[e];n[e]=t}});t={my:n.join(" "),at:n.join(" "),offset:r.join(" ")}}t=e.extend({},e.ui.dialog.prototype.options.position,t)}else{t=e.ui.dialog.prototype.options.position}i=this.uiDialog.is(":visible");if(!i){this.uiDialog.show()}this.uiDialog.css({top:0,left:0}).position(e.extend({of:window},t));if(!i){this.uiDialog.hide()}},_setOptions:function(t){var n=this,s={},o=false;e.each(t,function(e,t){n._setOption(e,t);if(e in r){o=true}if(e in i){s[e]=t}});if(o){this._size()}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option",s)}},_setOption:function(t,r){var i=this,s=i.uiDialog;switch(t){case"beforeclose":t="beforeClose";break;case"buttons":i._createButtons(r);break;case"closeText":i.uiDialogTitlebarCloseText.text(""+r);break;case"dialogClass":s.removeClass(i.options.dialogClass).addClass(n+r);break;case"disabled":if(r){s.addClass("ui-dialog-disabled")}else{s.removeClass("ui-dialog-disabled")}break;case"draggable":var o=s.is(":data(draggable)");if(o&&!r){s.draggable("destroy")}if(!o&&r){i._makeDraggable()}break;case"position":i._position(r);break;case"resizable":var u=s.is(":data(resizable)");if(u&&!r){s.resizable("destroy")}if(u&&typeof r==="string"){s.resizable("option","handles",r)}if(!u&&r!==false){i._makeResizable(r)}break;case"title":e(".ui-dialog-title",i.uiDialogTitlebar).html(""+(r||"&#160;"));break}e.Widget.prototype._setOption.apply(i,arguments)},_size:function(){var t=this.options,n,r,i=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(t.minWidth>t.width){t.width=t.minWidth}n=this.uiDialog.css({height:"auto",width:t.width}).height();r=Math.max(0,t.minHeight-n);if(t.height==="auto"){if(e.support.minHeight){this.element.css({minHeight:r,height:"auto"})}else{this.uiDialog.show();var s=this.element.css("height","auto").height();if(!i){this.uiDialog.hide()}this.element.height(Math.max(s,r))}}else{this.element.height(Math.max(t.height-n,0))}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}}});e.extend(e.ui.dialog,{version:"1.8.16",uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");if(!t){this.uuid+=1;t=this.uuid}return"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}});e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){if(this.instances.length===0){setTimeout(function(){if(e.ui.dialog.overlay.instances.length){e(document).bind(e.ui.dialog.overlay.events,function(t){if(e(t.target).zIndex()<e.ui.dialog.overlay.maxZ){return false}})}},1);e(document).bind("keydown.dialog-overlay",function(n){if(t.options.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE){t.close(n);n.preventDefault()}});e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize)}var n=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});if(e.fn.bgiframe){n.bgiframe()}this.instances.push(n);return n},destroy:function(t){var n=e.inArray(t,this.instances);if(n!=-1){this.oldInstances.push(this.instances.splice(n,1)[0])}if(this.instances.length===0){e([document,window]).unbind(".dialog-overlay")}t.remove();var r=0;e.each(this.instances,function(){r=Math.max(r,this.css("z-index"))});this.maxZ=r},height:function(){var t,n;if(e.browser.msie&&e.browser.version<7){t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);n=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(t<n){return e(window).height()+"px"}else{return t+"px"}}else{return e(document).height()+"px"}},width:function(){var t,n;if(e.browser.msie){t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);n=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(t<n){return e(window).width()+"px"}else{return t+"px"}}else{return e(document).width()+"px"}},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)});t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}});e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})})(jQuery)