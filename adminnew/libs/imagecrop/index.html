<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
		<title>How to Create a jQuery Image Cropping Plug-In from Scratch - Demo for Part II</title>
		<link href="style.css" media="screen" rel="stylesheet" type="text/css" />
		<link href="resources/js/imageCrop/jquery.imagecrop.css" media="screen" rel="stylesheet" type="text/css" />
		<script src="resources/js/jquery-1.6.2.min.js" type="text/javascript"></script>
		<script src="resources/js/imageCrop/jquery.imagecrop.min.js" type="text/javascript"></script>
		<script type="text/javascript">
			$(document).ready(function() {
				$('img#example').imageCrop({
					displayPreview : true,
					displaySize : true,
					overlayOpacity : 0.25,

					onSelect : updateForm
				});
			});

			var selectionExists;

			// Update form inputs
			function updateForm(crop) {
				$('input#x').val(crop.selectionX);
				$('input#y').val(crop.selectionY);
				$('input#width').val(crop.selectionWidth);
				$('input#height').val(crop.selectionHeight);

				selectionExists = crop.selectionExists();
			};

			// Validate form data
			function validateForm() {
				if (selectionExists)
					return true;

				alert('Please make a selection first!');

				return false;
			};
		</script>
	</head>

	<body>
		<div id="wrapper">
			<div class="image-decorator">
				<img alt="How to Create a jQuery Image Cropping Plug-In from Scratch" height="360" id="example" src="resources/images/example.jpg" width="480" />
			</div><!-- .image-decorator -->

			<div class="info">
				<h2>Demo for Part II</h2>

				<p>
					This is what you should achieve after following the second part of the tutorial. The source code of this example can be downloaded here:
					<br /><br />
					<a href="../downloads/imagecrop-part-2.zip" id="download">Get the Code</a> (79.9 KB)
				</p>

				<h2>Try it</h2>

				<p>
					Make a selection and click the &quot;Crop Image&quot; button to see the result. Attention! This example requires PHP/gd support to work.
					<br /><br />

					<form action="crop.php" method="post" onsubmit="return validateForm();">
						<input id="x" name="x" type="hidden" />
						<input id="y" name="y" type="hidden" />
						<input id="width" name="width" type="hidden" />
						<input id="height" name="height" type="hidden" />
						<input type="submit" value="Crop Image" />
					</form>
				</p>

			</div><!-- .info -->

		</div><!-- #wrapper -->
	</body>
</html>