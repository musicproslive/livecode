if(!hs){var hs={lang:{cssDirection:"ltr",loadingText:"Loading...",loadingTitle:"Click to cancel",focusTitle:"Click to bring to front",fullExpandTitle:"Expand to actual size (f)",creditsText:"<i>Voteondeals.com</i>",creditsTitle:"Go to the Vote on Deals homepage",previousText:"Previous",nextText:"Next",moveText:"Move",closeText:"Close",closeTitle:"Close (esc)",resizeTitle:"Resize",playText:"Play",playTitle:"Play slideshow (spacebar)",pauseText:"Pause",pauseTitle:"Pause slideshow (spacebar)",previousTitle:"Previous (arrow left)",nextTitle:"Next (arrow right)",moveTitle:"Move",fullExpandText:"1:1",number:"Image %1 of %2",restoreTitle:"Click to close image, click and drag to move. Use arrow keys for next and previous."},graphicsDir:"js/highslide/graphics/",expandCursor:"zoomin.cur",restoreCursor:"zoomout.cur",expandDuration:250,restoreDuration:250,marginLeft:15,marginRight:15,marginTop:15,marginBottom:15,zIndexCounter:1001,loadingOpacity:.75,allowMultipleInstances:true,numberOfImagesToPreload:5,outlineWhileAnimating:2,outlineStartOffset:3,padToMinWidth:false,fullExpandPosition:"bottom right",fullExpandOpacity:1,showCredits:true,creditsHref:"http://highslide.com/",creditsTarget:"_self",enableKeyListener:true,openerTagNames:["a","area"],transitions:[],transitionDuration:250,dimmingOpacity:0,dimmingDuration:50,allowWidthReduction:false,allowHeightReduction:true,preserveContent:true,objectLoadTime:"before",cacheAjax:true,anchor:"auto",align:"auto",targetX:null,targetY:null,dragByHeading:true,minWidth:200,minHeight:200,allowSizeReduction:true,outlineType:"rounded-white",skin:{controls:'<div class="highslide-controls"><ul>'+'<li class="highslide-previous">'+'<a href="#" title="{hs.lang.previousTitle}">'+"<span>{hs.lang.previousText}</span></a>"+"</li>"+'<li class="highslide-play">'+'<a href="#" title="{hs.lang.playTitle}">'+"<span>{hs.lang.playText}</span></a>"+"</li>"+'<li class="highslide-pause">'+'<a href="#" title="{hs.lang.pauseTitle}">'+"<span>{hs.lang.pauseText}</span></a>"+"</li>"+'<li class="highslide-next">'+'<a href="#" title="{hs.lang.nextTitle}">'+"<span>{hs.lang.nextText}</span></a>"+"</li>"+'<li class="highslide-move">'+'<a href="#" title="{hs.lang.moveTitle}">'+"<span>{hs.lang.moveText}</span></a>"+"</li>"+'<li class="highslide-full-expand">'+'<a href="#" title="{hs.lang.fullExpandTitle}">'+"<span>{hs.lang.fullExpandText}</span></a>"+"</li>"+'<li class="highslide-close">'+'<a href="#" title="{hs.lang.closeTitle}" >'+"<span>{hs.lang.closeText}</span></a>"+"</li>"+"</ul></div>",contentWrapper:'<div class="highslide-header"><ul>'+'<li class="highslide-previous">'+'<a href="#" title="{hs.lang.previousTitle}" onclick="return hs.previous(this)">'+"<span>{hs.lang.previousText}</span></a>"+"</li>"+'<li class="highslide-next">'+'<a href="#" title="{hs.lang.nextTitle}" onclick="return hs.next(this)">'+"<span>{hs.lang.nextText}</span></a>"+"</li>"+'<li class="highslide-move">'+'<a href="#" title="{hs.lang.moveTitle}" onclick="return false">'+"<span>{hs.lang.moveText}</span></a>"+"</li>"+'<li class="highslide-close">'+'<a href="#" title="{hs.lang.closeTitle}" onclick="return hs.close(this)">'+"<span>{hs.lang.closeText}</span></a>"+"</li>"+"</ul></div>"+'<div class="highslide-body"></div>'+'<div class="highslide-footer"><div>'+'<span class="highslide-resize" title="{hs.lang.resizeTitle}"><span></span></span>'+"</div></div>"},preloadTheseImages:[],continuePreloading:true,expanders:[],overrides:["allowSizeReduction","useBox","anchor","align","targetX","targetY","outlineType","outlineWhileAnimating","captionId","captionText","captionEval","captionOverlay","headingId","headingText","headingEval","headingOverlay","creditsPosition","dragByHeading","autoplay","numberPosition","transitions","dimmingOpacity","width","height","contentId","allowWidthReduction","allowHeightReduction","preserveContent","maincontentId","maincontentText","maincontentEval","objectType","cacheAjax","objectWidth","objectHeight","objectLoadTime","swfOptions","wrapperClassName","minWidth","minHeight","maxWidth","maxHeight","pageOrigin","slideshowGroup","easing","easingClose","fadeInOut","src"],overlays:[],idCounter:0,oPos:{x:["leftpanel","left","center","right","rightpanel"],y:["above","top","middle","bottom","below"]},mouse:{},headingOverlay:{},captionOverlay:{},swfOptions:{flashvars:{},params:{},attributes:{}},timers:[],slideshows:[],pendingOutlines:{},sleeping:[],preloadTheseAjax:[],cacheBindings:[],cachedGets:{},clones:{},onReady:[],uaVersion:/Trident\/4\.0/.test(navigator.userAgent)?8:parseFloat((navigator.userAgent.toLowerCase().match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1]),ie:document.all&&!window.opera,safari:/Safari/.test(navigator.userAgent),geckoMac:/Macintosh.+rv:1\.[0-8].+Gecko/.test(navigator.userAgent),$:function(e){if(e)return document.getElementById(e)},push:function(e,t){e[e.length]=t},createElement:function(e,t,n,r,i){var s=document.createElement(e);if(t)hs.extend(s,t);if(i)hs.setStyles(s,{padding:0,border:"none",margin:0});if(n)hs.setStyles(s,n);if(r)r.appendChild(s);return s},extend:function(e,t){for(var n in t)e[n]=t[n];return e},setStyles:function(e,t){for(var n in t){if(hs.ie&&n=="opacity"){if(t[n]>.99)e.style.removeAttribute("filter");else e.style.filter="alpha(opacity="+t[n]*100+")"}else e.style[n]=t[n]}},animate:function(e,t,n){var r,i,s;if(typeof n!="object"||n===null){var o=arguments;n={duration:o[2],easing:o[3],complete:o[4]}}if(typeof n.duration!="number")n.duration=250;n.easing=Math[n.easing]||Math.easeInQuad;n.curAnim=hs.extend({},t);for(var u in t){var a=new hs.fx(e,n,u);r=parseFloat(hs.css(e,u))||0;i=parseFloat(t[u]);s=u!="opacity"?"px":"";a.custom(r,i,s)}},css:function(e,t){if(e.style[t]){return e.style[t]}else if(document.defaultView){return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}else{if(t=="opacity")t="filter";var n=e.currentStyle[t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})];if(t=="filter")n=n.replace(/alpha\(opacity=([0-9]+)\)/,function(e,t){return t/100});return n===""?1:n}},getPageSize:function(){var e=document,t=window,n=e.compatMode&&e.compatMode!="BackCompat"?e.documentElement:e.body;var r=hs.ie?n.clientWidth:e.documentElement.clientWidth||self.innerWidth,i=hs.ie?n.clientHeight:self.innerHeight;hs.page={width:r,height:i,scrollLeft:hs.ie?n.scrollLeft:pageXOffset,scrollTop:hs.ie?n.scrollTop:pageYOffset};return hs.page},getPosition:function(e){if(/area/i.test(e.tagName)){var t=document.getElementsByTagName("img");for(var n=0;n<t.length;n++){var r=t[n].useMap;if(r&&r.replace(/^.*?#/,"")==e.parentNode.name){e=t[n];break}}}var i={x:e.offsetLeft,y:e.offsetTop};while(e.offsetParent){e=e.offsetParent;i.x+=e.offsetLeft;i.y+=e.offsetTop;if(e!=document.body&&e!=document.documentElement){i.x-=e.scrollLeft;i.y-=e.scrollTop}}return i},expand:function(e,t,n,r){if(!e)e=hs.createElement("a",null,{display:"none"},hs.container);if(typeof e.getParams=="function")return t;if(r=="html"){for(var i=0;i<hs.sleeping.length;i++){if(hs.sleeping[i]&&hs.sleeping[i].a==e){hs.sleeping[i].awake();hs.sleeping[i]=null;return false}}hs.hasHtmlExpanders=true}try{new hs.Expander(e,t,n,r);return false}catch(s){return true}},htmlExpand:function(e,t,n){return hs.expand(e,t,n,"html")},getSelfRendered:function(){return hs.createElement("div",{className:"highslide-html-content",innerHTML:hs.replaceLang(hs.skin.contentWrapper)})},getElementByClass:function(e,t,n){var r=e.getElementsByTagName(t);for(var i=0;i<r.length;i++){if((new RegExp(n)).test(r[i].className)){return r[i]}}return null},replaceLang:function(e){e=e.replace(/\s/g," ");var t=/{hs\.lang\.([^}]+)\}/g,n=e.match(t),r;if(n)for(var i=0;i<n.length;i++){r=n[i].replace(t,"$1");if(typeof hs.lang[r]!="undefined")e=e.replace(n[i],hs.lang[r])}return e},setClickEvents:function(){var e=document.getElementsByTagName("a");for(var t=0;t<e.length;t++){var n=hs.isUnobtrusiveAnchor(e[t]);if(n&&!e[t].hsHasSetClick){(function(){var r=n;if(hs.fireEvent(hs,"onSetClickEvent",{element:e[t],type:r})){e[t].onclick=n=="image"?function(){return hs.expand(this)}:function(){return hs.htmlExpand(this,{objectType:r})}}})();e[t].hsHasSetClick=true}}hs.getAnchors()},isUnobtrusiveAnchor:function(e){if(e.rel=="highslide")return"image";else if(e.rel=="highslide-ajax")return"ajax";else if(e.rel=="highslide-iframe")return"iframe";else if(e.rel=="highslide-swf")return"swf"},getCacheBinding:function(e){for(var t=0;t<hs.cacheBindings.length;t++){if(hs.cacheBindings[t][0]==e){var n=hs.cacheBindings[t][1];hs.cacheBindings[t][1]=n.cloneNode(1);return n}}return null},preloadAjax:function(e){var t=hs.getAnchors();for(var n=0;n<t.htmls.length;n++){var r=t.htmls[n];if(hs.getParam(r,"objectType")=="ajax"&&hs.getParam(r,"cacheAjax"))hs.push(hs.preloadTheseAjax,r)}hs.preloadAjaxElement(0)},preloadAjaxElement:function(e){if(!hs.preloadTheseAjax[e])return;var t=hs.preloadTheseAjax[e];var n=hs.getNode(hs.getParam(t,"contentId"));if(!n)n=hs.getSelfRendered();var r=new hs.Ajax(t,n,1);r.onError=function(){};r.onLoad=function(){hs.push(hs.cacheBindings,[t,n]);hs.preloadAjaxElement(e+1)};r.run()},focusTopmost:function(){var e=0,t=-1,n=hs.expanders,r,i;for(var s=0;s<n.length;s++){r=n[s];if(r){i=r.wrapper.style.zIndex;if(i&&i>e){e=i;t=s}}}if(t==-1)hs.focusKey=-1;else n[t].focus()},getParam:function(e,t){e.getParams=e.onclick;var n=e.getParams?e.getParams():null;e.getParams=null;return n&&typeof n[t]!="undefined"?n[t]:typeof hs[t]!="undefined"?hs[t]:null},getSrc:function(e){var t=hs.getParam(e,"src");if(t)return t;return e.href},getNode:function(e){var t=hs.$(e),n=hs.clones[e],r={};if(!t&&!n)return null;if(!n){n=t.cloneNode(true);n.id="";hs.clones[e]=n;return t}else{return n.cloneNode(true)}},discardElement:function(e){if(e)hs.garbageBin.appendChild(e);hs.garbageBin.innerHTML=""},dim:function(e){if(!hs.dimmer){hs.dimmer=hs.createElement("div",{className:"highslide-dimming highslide-viewport-size",owner:"",onclick:function(){if(hs.fireEvent(hs,"onDimmerClick"))hs.close()}},{visibility:"visible",opacity:0},hs.container,true)}hs.dimmer.style.display="";hs.dimmer.owner+="|"+e.key;if(hs.geckoMac&&hs.dimmingGeckoFix)hs.setStyles(hs.dimmer,{background:"url("+hs.graphicsDir+"geckodimmer.png)",opacity:1});else hs.animate(hs.dimmer,{opacity:e.dimmingOpacity},hs.dimmingDuration)},undim:function(e){if(!hs.dimmer)return;if(typeof e!="undefined")hs.dimmer.owner=hs.dimmer.owner.replace("|"+e,"");if(typeof e!="undefined"&&hs.dimmer.owner!=""||hs.upcoming&&hs.getParam(hs.upcoming,"dimmingOpacity"))return;if(hs.geckoMac&&hs.dimmingGeckoFix)hs.dimmer.style.display="none";else hs.animate(hs.dimmer,{opacity:0},hs.dimmingDuration,null,function(){hs.dimmer.style.display="none"})},transit:function(e,t){var n=t||hs.getExpander();t=n;if(hs.upcoming)return false;else hs.last=n;hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);try{hs.upcoming=e;e.onclick()}catch(r){hs.last=hs.upcoming=null}try{if(!e||t.transitions[1]!="crossfade")t.close()}catch(r){}return false},previousOrNext:function(e,t){var n=hs.getExpander(e);if(n)return hs.transit(n.getAdjacentAnchor(t),n);else return false},previous:function(e){return hs.previousOrNext(e,-1)},next:function(e){return hs.previousOrNext(e,1)},keyHandler:function(e){if(!e)e=window.event;if(!e.target)e.target=e.srcElement;if(typeof e.target.form!="undefined")return true;if(!hs.fireEvent(hs,"onKeyDown",e))return true;var t=hs.getExpander();var n=null;switch(e.keyCode){case 70:if(t)t.doFullExpand();return true;case 32:n=2;break;case 34:case 39:case 40:n=1;break;case 8:case 33:case 37:case 38:n=-1;break;case 27:case 13:n=0}if(n!==null){hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);if(!hs.enableKeyListener)return true;if(e.preventDefault)e.preventDefault();else e.returnValue=false;if(t){if(n==0){t.close()}else if(n==2){if(t.slideshow)t.slideshow.hitSpace()}else{if(t.slideshow)t.slideshow.pause();hs.previousOrNext(t.key,n)}return false}}return true},registerOverlay:function(e){hs.push(hs.overlays,hs.extend(e,{hsId:"hsId"+hs.idCounter++}))},addSlideshow:function(e){var t=e.slideshowGroup;if(typeof t=="object"){for(var n=0;n<t.length;n++){var r={};for(var i in e)r[i]=e[i];r.slideshowGroup=t[n];hs.push(hs.slideshows,r)}}else{hs.push(hs.slideshows,e)}},getWrapperKey:function(e,t){var n,r=/^highslide-wrapper-([0-9]+)$/;n=e;while(n.parentNode){if(n.hsKey!==undefined)return n.hsKey;if(n.id&&r.test(n.id))return n.id.replace(r,"$1");n=n.parentNode}if(!t){n=e;while(n.parentNode){if(n.tagName&&hs.isHsAnchor(n)){for(var i=0;i<hs.expanders.length;i++){var s=hs.expanders[i];if(s&&s.a==n)return i}}n=n.parentNode}}return null},getExpander:function(e,t){if(typeof e=="undefined")return hs.expanders[hs.focusKey]||null;if(typeof e=="number")return hs.expanders[e]||null;if(typeof e=="string")e=hs.$(e);return hs.expanders[hs.getWrapperKey(e,t)]||null},isHsAnchor:function(e){return e.onclick&&e.onclick.toString().replace(/\s/g," ").match(/hs.(htmlE|e)xpand/)},reOrder:function(){for(var e=0;e<hs.expanders.length;e++)if(hs.expanders[e]&&hs.expanders[e].isExpanded)hs.focusTopmost()},fireEvent:function(e,t,n){return e&&e[t]?e[t](e,n)!==false:true},mouseClickHandler:function(e){if(!e)e=window.event;if(e.button>1)return true;if(!e.target)e.target=e.srcElement;var t=e.target;while(t.parentNode&&!/highslide-(image|move|html|resize)/.test(t.className)){t=t.parentNode}var n=hs.getExpander(t);if(n&&(n.isClosing||!n.isExpanded))return true;if(n&&e.type=="mousedown"){if(e.target.form)return true;var r=t.className.match(/highslide-(image|move|resize)/);if(r){hs.dragArgs={exp:n,type:r[1],left:n.x.pos,width:n.x.size,top:n.y.pos,height:n.y.size,clickX:e.clientX,clickY:e.clientY};hs.addEventListener(document,"mousemove",hs.dragHandler);if(e.preventDefault)e.preventDefault();if(/highslide-(image|html)-blur/.test(n.content.className)){n.focus();hs.hasFocused=true}return false}else if(/highslide-html/.test(t.className)&&hs.focusKey!=n.key){n.focus();n.doShowHide("hidden")}}else if(e.type=="mouseup"){hs.removeEventListener(document,"mousemove",hs.dragHandler);if(hs.dragArgs){if(hs.styleRestoreCursor&&hs.dragArgs.type=="image")hs.dragArgs.exp.content.style.cursor=hs.styleRestoreCursor;var i=hs.dragArgs.hasDragged;if(!i&&!hs.hasFocused&&!/(move|resize)/.test(hs.dragArgs.type)){if(hs.fireEvent(n,"onImageClick"))n.close()}else if(i||!i&&hs.hasHtmlExpanders){hs.dragArgs.exp.doShowHide("hidden")}if(hs.dragArgs.exp.releaseMask)hs.dragArgs.exp.releaseMask.style.display="none";if(i)hs.fireEvent(hs.dragArgs.exp,"onDrop",hs.dragArgs);hs.hasFocused=false;hs.dragArgs=null}else if(/highslide-image-blur/.test(t.className)){t.style.cursor=hs.styleRestoreCursor}}return false},dragHandler:function(e){if(!hs.dragArgs)return true;if(!e)e=window.event;var t=hs.dragArgs,n=t.exp;if(n.iframe){if(!n.releaseMask)n.releaseMask=hs.createElement("div",null,{position:"absolute",width:n.x.size+"px",height:n.y.size+"px",left:n.x.cb+"px",top:n.y.cb+"px",zIndex:4,background:hs.ie?"white":"none",opacity:.01},n.wrapper,true);if(n.releaseMask.style.display=="none")n.releaseMask.style.display=""}t.dX=e.clientX-t.clickX;t.dY=e.clientY-t.clickY;var r=Math.sqrt(Math.pow(t.dX,2)+Math.pow(t.dY,2));if(!t.hasDragged)t.hasDragged=t.type!="image"&&r>0||r>(hs.dragSensitivity||5);if(t.hasDragged&&e.clientX>5&&e.clientY>5){if(!hs.fireEvent(n,"onDrag",t))return false;if(t.type=="resize")n.resize(t);else{n.moveTo(t.left+t.dX,t.top+t.dY);if(t.type=="image")n.content.style.cursor="move"}}return false},wrapperMouseHandler:function(e){try{if(!e)e=window.event;var t=/mouseover/i.test(e.type);if(!e.target)e.target=e.srcElement;if(hs.ie)e.relatedTarget=t?e.fromElement:e.toElement;var n=hs.getExpander(e.target);if(!n.isExpanded)return;if(!n||!e.relatedTarget||hs.getExpander(e.relatedTarget,true)==n||hs.dragArgs)return;hs.fireEvent(n,t?"onMouseOver":"onMouseOut",e);for(var r=0;r<n.overlays.length;r++)(function(){var e=hs.$("hsId"+n.overlays[r]);if(e&&e.hideOnMouseOut){if(t)hs.setStyles(e,{visibility:"visible",display:""});hs.animate(e,{opacity:t?e.opacity:0},e.dur)}})()}catch(e){}},addEventListener:function(e,t,n){if(e==document&&t=="ready"){hs.push(hs.onReady,n)}try{e.addEventListener(t,n,false)}catch(r){try{e.detachEvent("on"+t,n);e.attachEvent("on"+t,n)}catch(r){e["on"+t]=n}}},removeEventListener:function(e,t,n){try{e.removeEventListener(t,n,false)}catch(r){try{e.detachEvent("on"+t,n)}catch(r){e["on"+t]=null}}},preloadFullImage:function(e){if(hs.continuePreloading&&hs.preloadTheseImages[e]&&hs.preloadTheseImages[e]!="undefined"){var t=document.createElement("img");t.onload=function(){t=null;hs.preloadFullImage(e+1)};t.src=hs.preloadTheseImages[e]}},preloadImages:function(e){if(e&&typeof e!="object")hs.numberOfImagesToPreload=e;var t=hs.getAnchors();for(var n=0;n<t.images.length&&n<hs.numberOfImagesToPreload;n++){hs.push(hs.preloadTheseImages,hs.getSrc(t.images[n]))}if(hs.outlineType)new hs.Outline(hs.outlineType,function(){hs.preloadFullImage(0)});else hs.preloadFullImage(0);if(hs.restoreCursor)var r=hs.createElement("img",{src:hs.graphicsDir+hs.restoreCursor})},init:function(){if(!hs.container){hs.getPageSize();hs.ieLt7=hs.ie&&hs.uaVersion<7;hs.ie6SSL=hs.ieLt7&&location.protocol=="https:";for(var e in hs.langDefaults){if(typeof hs[e]!="undefined")hs.lang[e]=hs[e];else if(typeof hs.lang[e]=="undefined"&&typeof hs.langDefaults[e]!="undefined")hs.lang[e]=hs.langDefaults[e]}hs.container=hs.createElement("div",{className:"highslide-container"},{position:"absolute",left:0,top:0,width:"100%",zIndex:hs.zIndexCounter,direction:"ltr"},document.body,true);hs.loading=hs.createElement("a",{className:"highslide-loading",title:hs.lang.loadingTitle,innerHTML:hs.lang.loadingText,href:"javascript:;"},{position:"absolute",top:"-9999px",opacity:hs.loadingOpacity,zIndex:1},hs.container);hs.garbageBin=hs.createElement("div",null,{display:"none"},hs.container);hs.viewport=hs.createElement("div",{className:"highslide-viewport highslide-viewport-size"},{visibility:hs.safari&&hs.uaVersion<525?"visible":"hidden"},hs.container,1);hs.clearing=hs.createElement("div",null,{clear:"both",paddingTop:"1px"},null,true);Math.linearTween=function(e,t,n,r){return n*e/r+t};Math.easeInQuad=function(e,t,n,r){return n*(e/=r)*e+t};Math.easeOutQuad=function(e,t,n,r){return-n*(e/=r)*(e-2)+t};hs.hideSelects=hs.ieLt7;hs.hideIframes=window.opera&&hs.uaVersion<9||navigator.vendor=="KDE"||hs.ie&&hs.uaVersion<5.5;hs.fireEvent(this,"onActivate")}},ready:function(){if(hs.isReady)return;hs.isReady=true;for(var e=0;e<hs.onReady.length;e++)hs.onReady[e]()},updateAnchors:function(){var e,t,n=[],r=[],i=[],s={},o;for(var u=0;u<hs.openerTagNames.length;u++){t=document.getElementsByTagName(hs.openerTagNames[u]);for(var a=0;a<t.length;a++){e=t[a];o=hs.isHsAnchor(e);if(o){hs.push(n,e);if(o[0]=="hs.expand")hs.push(r,e);else if(o[0]=="hs.htmlExpand")hs.push(i,e);var f=hs.getParam(e,"slideshowGroup")||"none";if(!s[f])s[f]=[];hs.push(s[f],e)}}}hs.anchors={all:n,groups:s,images:r,htmls:i};return hs.anchors},getAnchors:function(){return hs.anchors||hs.updateAnchors()},close:function(e){var t=hs.getExpander(e);if(t)t.close();return false}};hs.fx=function(e,t,n){this.options=t;this.elem=e;this.prop=n;if(!t.orig)t.orig={}};hs.fx.prototype={update:function(){(hs.fx.step[this.prop]||hs.fx.step._default)(this);if(this.options.step)this.options.step.call(this.elem,this.now,this)},custom:function(e,t,n){function i(e){return r.step(e)}this.startTime=(new Date).getTime();this.start=e;this.end=t;this.unit=n;this.now=this.start;this.pos=this.state=0;var r=this;i.elem=this.elem;if(i()&&hs.timers.push(i)==1){hs.timerId=setInterval(function(){var e=hs.timers;for(var t=0;t<e.length;t++)if(!e[t]())e.splice(t--,1);if(!e.length){clearInterval(hs.timerId)}},13)}},step:function(e){var t=(new Date).getTime();if(e||t>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var n=true;for(var r in this.options.curAnim)if(this.options.curAnim[r]!==true)n=false;if(n){if(this.options.complete)this.options.complete.call(this.elem)}return false}else{var i=t-this.startTime;this.state=i/this.options.duration;this.pos=this.options.easing(i,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};hs.extend(hs.fx,{step:{opacity:function(e){hs.setStyles(e.elem,{opacity:e.now})},_default:function(e){try{if(e.elem.style&&e.elem.style[e.prop]!=null)e.elem.style[e.prop]=e.now+e.unit;else e.elem[e.prop]=e.now}catch(t){}}}});hs.Outline=function(e,t){this.onLoad=t;this.outlineType=e;var n=hs.uaVersion,r;this.hasAlphaImageLoader=hs.ie&&n>=5.5&&n<7;if(!e){if(t)t();return}hs.init();this.table=hs.createElement("table",{cellSpacing:0},{visibility:"hidden",position:"absolute",borderCollapse:"collapse",width:0},hs.container,true);var i=hs.createElement("tbody",null,null,this.table,1);this.td=[];for(var s=0;s<=8;s++){if(s%3==0)r=hs.createElement("tr",null,{height:"auto"},i,true);this.td[s]=hs.createElement("td",null,null,r,true);var o=s!=4?{lineHeight:0,fontSize:0}:{position:"relative"};hs.setStyles(this.td[s],o)}this.td[4].className=e+" highslide-outline";this.preloadGraphic()};hs.Outline.prototype={preloadGraphic:function(){var e=hs.graphicsDir+(hs.outlinesDir||"outlines/")+this.outlineType+".png";var t=hs.safari&&hs.uaVersion<525?hs.container:null;this.graphic=hs.createElement("img",null,{position:"absolute",top:"-9999px"},t,true);var n=this;this.graphic.onload=function(){n.onGraphicLoad()};this.graphic.src=e},onGraphicLoad:function(){var e=this.offset=this.graphic.width/4,t=[[0,0],[0,-4],[-2,0],[0,-8],0,[-2,-8],[0,-2],[0,-6],[-2,-2]],n={height:2*e+"px",width:2*e+"px"};for(var r=0;r<=8;r++){if(t[r]){if(this.hasAlphaImageLoader){var i=r==1||r==7?"100%":this.graphic.width+"px";var s=hs.createElement("div",null,{width:"100%",height:"100%",position:"relative",overflow:"hidden"},this.td[r],true);hs.createElement("div",null,{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale, src='"+this.graphic.src+"')",position:"absolute",width:i,height:this.graphic.height+"px",left:t[r][0]*e+"px",top:t[r][1]*e+"px"},s,true)}else{hs.setStyles(this.td[r],{background:"url("+this.graphic.src+") "+t[r][0]*e+"px "+t[r][1]*e+"px"})}if(window.opera&&(r==3||r==5))hs.createElement("div",null,n,this.td[r],true);hs.setStyles(this.td[r],n)}}this.graphic=null;if(hs.pendingOutlines[this.outlineType])hs.pendingOutlines[this.outlineType].destroy();hs.pendingOutlines[this.outlineType]=this;if(this.onLoad)this.onLoad()},setPosition:function(e,t,n,r,i){var s=this.exp,o=s.wrapper.style,t=t||0,e=e||{x:s.x.pos+t,y:s.y.pos+t,w:s.x.get("wsize")-2*t,h:s.y.get("wsize")-2*t};if(n)this.table.style.visibility=e.h>=4*this.offset?"visible":"hidden";hs.setStyles(this.table,{left:e.x-this.offset+"px",top:e.y-this.offset+"px",width:e.w+2*this.offset+"px"});e.w-=2*this.offset;e.h-=2*this.offset;hs.setStyles(this.td[4],{width:e.w>=0?e.w+"px":0,height:e.h>=0?e.h+"px":0});if(this.hasAlphaImageLoader)this.td[3].style.height=this.td[5].style.height=this.td[4].style.height},destroy:function(e){if(e)this.table.style.visibility="hidden";else hs.discardElement(this.table)}};hs.Dimension=function(e,t){this.exp=e;this.dim=t;this.ucwh=t=="x"?"Width":"Height";this.wh=this.ucwh.toLowerCase();this.uclt=t=="x"?"Left":"Top";this.lt=this.uclt.toLowerCase();this.ucrb=t=="x"?"Right":"Bottom";this.rb=this.ucrb.toLowerCase();this.p1=this.p2=0};hs.Dimension.prototype={get:function(e){switch(e){case"loadingPos":return this.tpos+this.tb+(this.t-hs.loading["offset"+this.ucwh])/2;case"loadingPosXfade":return this.pos+this.cb+this.p1+(this.size-hs.loading["offset"+this.ucwh])/2;case"wsize":return this.size+2*this.cb+this.p1+this.p2;case"fitsize":return this.clientSize-this.marginMin-this.marginMax;case"maxsize":return this.get("fitsize")-2*this.cb-this.p1-this.p2;case"opos":return this.pos-(this.exp.outline?this.exp.outline.offset:0);case"osize":return this.get("wsize")+(this.exp.outline?2*this.exp.outline.offset:0);case"imgPad":return this.imgSize?Math.round((this.size-this.imgSize)/2):0}},calcBorders:function(){this.cb=(this.exp.content["offset"+this.ucwh]-this.t)/2;this.marginMax=hs["margin"+this.ucrb]},calcThumb:function(){this.t=this.exp.el[this.wh]?parseInt(this.exp.el[this.wh]):this.exp.el["offset"+this.ucwh];this.tpos=this.exp.tpos[this.dim];this.tb=(this.exp.el["offset"+this.ucwh]-this.t)/2;if(this.tpos==0||this.tpos==-1){this.tpos=hs.page[this.wh]/2+hs.page["scroll"+this.uclt]}},calcExpanded:function(){var e=this.exp;this.justify="auto";if(e.align=="center")this.justify="center";else if((new RegExp(this.lt)).test(e.anchor))this.justify=null;else if((new RegExp(this.rb)).test(e.anchor))this.justify="max";this.pos=this.tpos-this.cb+this.tb;if(this.maxHeight&&this.dim=="x")e.maxWidth=Math.min(e.maxWidth||this.full,e.maxHeight*this.full/e.y.full);this.size=Math.min(this.full,e["max"+this.ucwh]||this.full);this.minSize=e.allowSizeReduction?Math.min(e["min"+this.ucwh],this.full):this.full;if(e.isImage&&e.useBox){this.size=e[this.wh];this.imgSize=this.full}if(this.dim=="x"&&hs.padToMinWidth)this.minSize=e.minWidth;this.target=e["target"+this.dim.toUpperCase()];this.marginMin=hs["margin"+this.uclt];this.scroll=hs.page["scroll"+this.uclt];this.clientSize=hs.page[this.wh]},setSize:function(e){var t=this.exp;if(t.isImage&&(t.useBox||hs.padToMinWidth)){this.imgSize=e;this.size=Math.max(this.size,this.imgSize);t.content.style[this.lt]=this.get("imgPad")+"px"}else this.size=e;t.content.style[this.wh]=e+"px";t.wrapper.style[this.wh]=this.get("wsize")+"px";if(t.outline)t.outline.setPosition();if(t.releaseMask)t.releaseMask.style[this.wh]=e+"px";if(this.dim=="y"&&t.iDoc&&t.body.style.height!="auto")try{t.iDoc.body.style.overflow="auto"}catch(n){}if(t.isHtml){var r=t.scrollerDiv;if(this.sizeDiff===undefined)this.sizeDiff=t.innerContent["offset"+this.ucwh]-r["offset"+this.ucwh];r.style[this.wh]=this.size-this.sizeDiff+"px";if(this.dim=="x")t.mediumContent.style.width="auto";if(t.body)t.body.style[this.wh]="auto"}if(this.dim=="x"&&t.overlayBox)t.sizeOverlayBox(true);if(this.dim=="x"&&t.slideshow&&t.isImage){if(e==this.full)t.slideshow.disable("full-expand");else t.slideshow.enable("full-expand")}},setPos:function(e){this.pos=e;this.exp.wrapper.style[this.lt]=e+"px";if(this.exp.outline)this.exp.outline.setPosition()}};hs.Expander=function(e,t,n,r){if(document.readyState&&hs.ie&&!hs.isReady){hs.addEventListener(document,"ready",function(){new hs.Expander(e,t,n,r)});return}this.a=e;this.custom=n;this.contentType=r||"image";this.isHtml=r=="html";this.isImage=!this.isHtml;hs.continuePreloading=false;this.overlays=[];this.last=hs.last;hs.last=null;hs.init();var i=this.key=hs.expanders.length;for(var s=0;s<hs.overrides.length;s++){var o=hs.overrides[s];this[o]=t&&typeof t[o]!="undefined"?t[o]:hs[o]}if(!this.src)this.src=e.href;var u=t&&t.thumbnailId?hs.$(t.thumbnailId):e;u=this.thumb=u.getElementsByTagName("img")[0]||u;this.thumbsUserSetId=u.id||e.id;if(!hs.fireEvent(this,"onInit"))return true;for(var s=0;s<hs.expanders.length;s++){if(hs.expanders[s]&&hs.expanders[s].a==e&&!(this.last&&this.transitions[1]=="crossfade")){hs.expanders[s].focus();return false}}if(!hs.allowSimultaneousLoading)for(var s=0;s<hs.expanders.length;s++){if(hs.expanders[s]&&hs.expanders[s].thumb!=u&&!hs.expanders[s].onLoadStarted){hs.expanders[s].cancelLoading()}}hs.expanders[i]=this;if(!hs.allowMultipleInstances&&!hs.upcoming){if(hs.expanders[i-1])hs.expanders[i-1].close();if(typeof hs.focusKey!="undefined"&&hs.expanders[hs.focusKey])hs.expanders[hs.focusKey].close()}this.el=u;this.tpos=this.pageOrigin||hs.getPosition(u);hs.getPageSize();var a=this.x=new hs.Dimension(this,"x");a.calcThumb();var f=this.y=new hs.Dimension(this,"y");f.calcThumb();if(/area/i.test(u.tagName))this.getImageMapAreaCorrection(u);this.wrapper=hs.createElement("div",{id:"highslide-wrapper-"+this.key,className:"highslide-wrapper "+this.wrapperClassName},{visibility:"hidden",position:"absolute",zIndex:hs.zIndexCounter+=2},null,true);this.wrapper.onmouseover=this.wrapper.onmouseout=hs.wrapperMouseHandler;if(this.contentType=="image"&&this.outlineWhileAnimating==2)this.outlineWhileAnimating=0;if(!this.outlineType||this.last&&this.isImage&&this.transitions[1]=="crossfade"){this[this.contentType+"Create"]()}else if(hs.pendingOutlines[this.outlineType]){this.connectOutline();this[this.contentType+"Create"]()}else{this.showLoading();var l=this;new hs.Outline(this.outlineType,function(){l.connectOutline();l[l.contentType+"Create"]()})}return true};hs.Expander.prototype={error:function(e){if(hs.debug)alert("Line "+e.lineNumber+": "+e.message);else window.location.href=this.src},connectOutline:function(){var e=this.outline=hs.pendingOutlines[this.outlineType];e.exp=this;e.table.style.zIndex=this.wrapper.style.zIndex-1;hs.pendingOutlines[this.outlineType]=null},showLoading:function(){if(this.onLoadStarted||this.loading)return;this.loading=hs.loading;var e=this;this.loading.onclick=function(){e.cancelLoading()};if(!hs.fireEvent(this,"onShowLoading"))return;var e=this,t=this.x.get("loadingPos")+"px",n=this.y.get("loadingPos")+"px";if(!r&&this.last&&this.transitions[1]=="crossfade")var r=this.last;if(r){t=r.x.get("loadingPosXfade")+"px";n=r.y.get("loadingPosXfade")+"px";this.loading.style.zIndex=hs.zIndexCounter++}setTimeout(function(){if(e.loading)hs.setStyles(e.loading,{left:t,top:n,zIndex:hs.zIndexCounter++})},100)},imageCreate:function(){var e=this;var t=document.createElement("img");this.content=t;t.onload=function(){if(hs.expanders[e.key])e.contentLoaded()};if(hs.blockRightClick)t.oncontextmenu=function(){return false};t.className="highslide-image";hs.setStyles(t,{visibility:"hidden",display:"block",position:"absolute",maxWidth:"9999px",zIndex:3});t.title=hs.lang.restoreTitle;if(hs.safari&&hs.uaVersion<525)hs.container.appendChild(t);if(hs.ie&&hs.flushImgSize)t.src=null;t.src=this.src;this.showLoading()},htmlCreate:function(){if(!hs.fireEvent(this,"onBeforeGetContent"))return;this.content=hs.getCacheBinding(this.a);if(!this.content)this.content=hs.getNode(this.contentId);if(!this.content)this.content=hs.getSelfRendered();this.getInline(["maincontent"]);if(this.maincontent){var e=hs.getElementByClass(this.content,"div","highslide-body");if(e)e.appendChild(this.maincontent);this.maincontent.style.display="block"}hs.fireEvent(this,"onAfterGetContent");var t=this.innerContent=this.content;if(/(swf|iframe)/.test(this.objectType))this.setObjContainerSize(t);hs.container.appendChild(this.wrapper);hs.setStyles(this.wrapper,{position:"static",padding:"0 "+hs.marginRight+"px 0 "+hs.marginLeft+"px"});this.content=hs.createElement("div",{className:"highslide-html"},{position:"relative",zIndex:3,height:0,overflow:"hidden"},this.wrapper);this.mediumContent=hs.createElement("div",null,null,this.content,1);this.mediumContent.appendChild(t);hs.setStyles(t,{position:"relative",display:"block",direction:hs.lang.cssDirection||""});if(this.width)t.style.width=this.width+"px";if(this.height)hs.setStyles(t,{height:this.height+"px",overflow:"hidden"});if(t.offsetWidth<this.minWidth)t.style.width=this.minWidth+"px";if(this.objectType=="ajax"&&!hs.getCacheBinding(this.a)){this.showLoading();var n=this;var r=new hs.Ajax(this.a,t);r.src=this.src;r.onLoad=function(){if(hs.expanders[n.key])n.contentLoaded()};r.onError=function(){location.href=n.src};r.run()}else if(this.objectType=="iframe"&&this.objectLoadTime=="before"){this.writeExtendedContent()}else this.contentLoaded()},contentLoaded:function(){try{if(!this.content)return;this.content.onload=null;if(this.onLoadStarted)return;else this.onLoadStarted=true;var e=this.x,t=this.y;if(this.loading){hs.setStyles(this.loading,{top:"-9999px"});this.loading=null;hs.fireEvent(this,"onHideLoading")}if(this.isImage){e.full=this.content.width;t.full=this.content.height;hs.setStyles(this.content,{width:e.t+"px",height:t.t+"px"});this.wrapper.appendChild(this.content);hs.container.appendChild(this.wrapper)}else if(this.htmlGetSize)this.htmlGetSize();e.calcBorders();t.calcBorders();hs.setStyles(this.wrapper,{left:e.tpos+e.tb-e.cb+"px",top:t.tpos+e.tb-t.cb+"px"});this.initSlideshow();this.getOverlays();var n=e.full/t.full;e.calcExpanded();this.justify(e);t.calcExpanded();this.justify(t);if(this.isHtml)this.htmlSizeOperations();if(this.overlayBox)this.sizeOverlayBox(0,1);if(this.allowSizeReduction){if(this.isImage)this.correctRatio(n);else this.fitOverlayBox();var r=this.slideshow;if(r&&this.last&&r.controls&&r.fixedControls){var i=r.overlayOptions.position||"",s;for(var o in hs.oPos)for(var u=0;u<5;u++){s=this[o];if(i.match(hs.oPos[o][u])){s.pos=this.last[o].pos+(this.last[o].p1-s.p1)+(this.last[o].size-s.size)*[0,0,.5,1,1][u];if(r.fixedControls=="fit"){if(s.pos+s.size+s.p1+s.p2>s.scroll+s.clientSize-s.marginMax)s.pos=s.scroll+s.clientSize-s.size-s.marginMin-s.marginMax-s.p1-s.p2;if(s.pos<s.scroll+s.marginMin)s.pos=s.scroll+s.marginMin}}}}if(this.isImage&&this.x.full>(this.x.imgSize||this.x.size)){this.createFullExpand();if(this.overlays.length==1)this.sizeOverlayBox()}}this.show()}catch(a){this.error(a)}},setObjContainerSize:function(e,t){var n=hs.getElementByClass(e,"DIV","highslide-body");if(/(iframe|swf)/.test(this.objectType)){if(this.objectWidth)n.style.width=this.objectWidth+"px";if(this.objectHeight)n.style.height=this.objectHeight+"px"}},writeExtendedContent:function(){if(this.hasExtendedContent)return;var e=this;this.body=hs.getElementByClass(this.innerContent,"DIV","highslide-body");if(this.objectType=="iframe"){this.showLoading();var t=hs.clearing.cloneNode(1);this.body.appendChild(t);this.newWidth=this.innerContent.offsetWidth;if(!this.objectWidth)this.objectWidth=t.offsetWidth;var n=this.innerContent.offsetHeight-this.body.offsetHeight,r=this.objectHeight||hs.page.height-n-hs.marginTop-hs.marginBottom,i=this.objectLoadTime=="before"?' onload="if (hs.expanders['+this.key+"]) hs.expanders["+this.key+'].contentLoaded()" ':"";this.body.innerHTML+='<iframe name="hs'+(new Date).getTime()+'" frameborder="0" key="'+this.key+'" '+' style="width:'+this.objectWidth+"px; height:"+r+'px" '+i+' src="'+this.src+'" ></iframe>';this.ruler=this.body.getElementsByTagName("div")[0];this.iframe=this.body.getElementsByTagName("iframe")[0];if(this.objectLoadTime=="after")this.correctIframeSize()}if(this.objectType=="swf"){this.body.id=this.body.id||"hs-flash-id-"+this.key;var s=this.swfOptions;if(!s.params)s.params={};if(typeof s.params.wmode=="undefined")s.params.wmode="transparent";if(swfobject)swfobject.embedSWF(this.src,this.body.id,this.objectWidth,this.objectHeight,s.version||"7",s.expressInstallSwfurl,s.flashvars,s.params,s.attributes)}this.hasExtendedContent=true},htmlGetSize:function(){if(this.iframe&&!this.objectHeight){this.iframe.style.height=this.body.style.height=this.getIframePageHeight()+"px"}this.innerContent.appendChild(hs.clearing);if(!this.x.full)this.x.full=this.innerContent.offsetWidth;this.y.full=this.innerContent.offsetHeight;this.innerContent.removeChild(hs.clearing);if(hs.ie&&this.newHeight>parseInt(this.innerContent.currentStyle.height)){this.newHeight=parseInt(this.innerContent.currentStyle.height)}hs.setStyles(this.wrapper,{position:"absolute",padding:"0"});hs.setStyles(this.content,{width:this.x.t+"px",height:this.y.t+"px"})},getIframePageHeight:function(){var e;try{var t=this.iDoc=this.iframe.contentDocument||this.iframe.contentWindow.document;var n=t.createElement("div");n.style.clear="both";t.body.appendChild(n);e=n.offsetTop;if(hs.ie)e+=parseInt(t.body.currentStyle.marginTop)+parseInt(t.body.currentStyle.marginBottom)-1}catch(r){e=300}return e},correctIframeSize:function(){var e=this.innerContent.offsetWidth-this.ruler.offsetWidth;hs.discardElement(this.ruler);if(e<0)e=0;var t=this.innerContent.offsetHeight-this.iframe.offsetHeight;if(this.iDoc&&!this.objectHeight&&!this.height&&this.y.size==this.y.full)try{this.iDoc.body.style.overflow="hidden"}catch(n){}hs.setStyles(this.iframe,{width:Math.abs(this.x.size-e)+"px",height:Math.abs(this.y.size-t)+"px"});hs.setStyles(this.body,{width:this.iframe.style.width,height:this.iframe.style.height});this.scrollingContent=this.iframe;this.scrollerDiv=this.scrollingContent},htmlSizeOperations:function(){this.setObjContainerSize(this.innerContent);if(this.objectType=="swf"&&this.objectLoadTime=="before")this.writeExtendedContent();if(this.x.size<this.x.full&&!this.allowWidthReduction)this.x.size=this.x.full;if(this.y.size<this.y.full&&!this.allowHeightReduction)this.y.size=this.y.full;this.scrollerDiv=this.innerContent;hs.setStyles(this.mediumContent,{position:"relative",width:this.x.size+"px"});hs.setStyles(this.innerContent,{border:"none",width:"auto",height:"auto"});var e=hs.getElementByClass(this.innerContent,"DIV","highslide-body");if(e&&!/(iframe|swf)/.test(this.objectType)){var t=e;e=hs.createElement(t.nodeName,null,{overflow:"hidden"},null,true);t.parentNode.insertBefore(e,t);e.appendChild(hs.clearing);e.appendChild(t);var n=this.innerContent.offsetWidth-e.offsetWidth;var r=this.innerContent.offsetHeight-e.offsetHeight;e.removeChild(hs.clearing);var i=hs.safari||navigator.vendor=="KDE"?1:0;hs.setStyles(e,{width:this.x.size-n-i+"px",height:this.y.size-r+"px",overflow:"auto",position:"relative"});if(i&&t.offsetHeight>e.offsetHeight){e.style.width=parseInt(e.style.width)+i+"px"}this.scrollingContent=e;this.scrollerDiv=this.scrollingContent}if(this.iframe&&this.objectLoadTime=="before")this.correctIframeSize();if(!this.scrollingContent&&this.y.size<this.mediumContent.offsetHeight)this.scrollerDiv=this.content;if(this.scrollerDiv==this.content&&!this.allowWidthReduction&&!/(iframe|swf)/.test(this.objectType)){this.x.size+=17}if(this.scrollerDiv&&this.scrollerDiv.offsetHeight>this.scrollerDiv.parentNode.offsetHeight){setTimeout("try { hs.expanders["+this.key+"].scrollerDiv.style.overflow = 'auto'; } catch(e) {}",hs.expandDuration)}},getImageMapAreaCorrection:function(e){var t=e.coords.split(",");for(var n=0;n<t.length;n++)t[n]=parseInt(t[n]);if(e.shape.toLowerCase()=="circle"){this.x.tpos+=t[0]-t[2];this.y.tpos+=t[1]-t[2];this.x.t=this.y.t=2*t[2]}else{var r,i,s=r=t[0],o=i=t[1];for(var n=0;n<t.length;n++){if(n%2==0){s=Math.min(s,t[n]);r=Math.max(r,t[n])}else{o=Math.min(o,t[n]);i=Math.max(i,t[n])}}this.x.tpos+=s;this.x.t=r-s;this.y.tpos+=o;this.y.t=i-o}},justify:function(e,t){var n,r=e.target,i=e==this.x?"x":"y";if(r&&r.match(/ /)){n=r.split(" ");r=n[0]}if(r&&hs.$(r)){e.pos=hs.getPosition(hs.$(r))[i];if(n&&n[1]&&n[1].match(/^[-]?[0-9]+px$/))e.pos+=parseInt(n[1]);if(e.size<e.minSize)e.size=e.minSize}else if(e.justify=="auto"||e.justify=="center"){var s=false;var o=e.exp.allowSizeReduction;if(e.justify=="center")e.pos=Math.round(e.scroll+(e.clientSize+e.marginMin-e.marginMax-e.get("wsize"))/2);else e.pos=Math.round(e.pos-(e.get("wsize")-e.t)/2);if(e.pos<e.scroll+e.marginMin){e.pos=e.scroll+e.marginMin;s=true}if(!t&&e.size<e.minSize){e.size=e.minSize;o=false}if(e.pos+e.get("wsize")>e.scroll+e.clientSize-e.marginMax){if(!t&&s&&o){e.size=Math.min(e.size,e.get(i=="y"?"fitsize":"maxsize"))}else if(e.get("wsize")<e.get("fitsize")){e.pos=e.scroll+e.clientSize-e.marginMax-e.get("wsize")}else{e.pos=e.scroll+e.marginMin;if(!t&&o)e.size=e.get(i=="y"?"fitsize":"maxsize")}}if(!t&&e.size<e.minSize){e.size=e.minSize;o=false}}else if(e.justify=="max"){e.pos=Math.floor(e.pos-e.size+e.t)}if(e.pos<e.marginMin){var u=e.pos;e.pos=e.marginMin;if(o&&!t)e.size=e.size-(e.pos-u)}},correctRatio:function(e){var t=this.x,n=this.y,r=false,i=Math.min(t.full,t.size),s=Math.min(n.full,n.size),o=this.useBox||hs.padToMinWidth;if(i/s>e){i=s*e;if(i<t.minSize){i=t.minSize;s=i/e}r=true}else if(i/s<e){s=i/e;r=true}if(hs.padToMinWidth&&t.full<t.minSize){t.imgSize=t.full;n.size=n.imgSize=n.full}else if(this.useBox){t.imgSize=i;n.imgSize=s}else{t.size=i;n.size=s}r=this.fitOverlayBox(this.useBox?null:e,r);if(o&&n.size<n.imgSize){n.imgSize=n.size;t.imgSize=n.size*e}if(r||o){t.pos=t.tpos-t.cb+t.tb;t.minSize=t.size;this.justify(t,true);n.pos=n.tpos-n.cb+n.tb;n.minSize=n.size;this.justify(n,true);if(this.overlayBox)this.sizeOverlayBox()}},fitOverlayBox:function(e,t){var n=this.x,r=this.y;if(this.overlayBox&&(this.isImage||this.allowHeightReduction)){while(r.size>this.minHeight&&n.size>this.minWidth&&r.get("wsize")>r.get("fitsize")){r.size-=10;if(e)n.size=r.size*e;this.sizeOverlayBox(0,1);t=true}}return t},reflow:function(){if(this.scrollerDiv){var e=/iframe/i.test(this.scrollerDiv.tagName)?this.getIframePageHeight()+1+"px":"auto";if(this.body)this.body.style.height=e;this.scrollerDiv.style.height=e;this.y.setSize(this.innerContent.offsetHeight)}},show:function(){var e=this.x,t=this.y;this.doShowHide("hidden");hs.fireEvent(this,"onBeforeExpand");if(this.slideshow&&this.slideshow.thumbstrip)this.slideshow.thumbstrip.selectThumb();this.changeSize(1,{wrapper:{width:e.get("wsize"),height:t.get("wsize"),left:e.pos,top:t.pos},content:{left:e.p1+e.get("imgPad"),top:t.p1+t.get("imgPad"),width:e.imgSize||e.size,height:t.imgSize||t.size}},hs.expandDuration)},changeSize:function(e,t,n){var r=this.transitions,i=e?this.last?this.last.a:null:hs.upcoming,s=r[1]&&i&&hs.getParam(i,"transitions")[1]==r[1]?r[1]:r[0];if(this[s]&&s!="expand"){this[s](e,t);return}if(this.outline&&!this.outlineWhileAnimating){if(e)this.outline.setPosition();else this.outline.destroy(this.isHtml&&this.preserveContent)}if(!e)this.destroyOverlays();var o=this,u=o.x,a=o.y,f=this.easing;if(!e)f=this.easingClose||f;var l=e?function(){if(o.outline)o.outline.table.style.visibility="visible";setTimeout(function(){o.afterExpand()},50)}:function(){o.afterClose()};if(e)hs.setStyles(this.wrapper,{width:u.t+"px",height:a.t+"px"});if(e&&this.isHtml){hs.setStyles(this.wrapper,{left:u.tpos-u.cb+u.tb+"px",top:a.tpos-a.cb+a.tb+"px"})}if(this.fadeInOut){hs.setStyles(this.wrapper,{opacity:e?0:1});hs.extend(t.wrapper,{opacity:e})}hs.animate(this.wrapper,t.wrapper,{duration:n,easing:f,step:function(t,n){if(o.outline&&o.outlineWhileAnimating&&n.prop=="top"){var r=e?n.pos:1-n.pos;var i={w:u.t+(u.get("wsize")-u.t)*r,h:a.t+(a.get("wsize")-a.t)*r,x:u.tpos+(u.pos-u.tpos)*r,y:a.tpos+(a.pos-a.tpos)*r};o.outline.setPosition(i,0,1)}if(o.isHtml){if(n.prop=="left")o.mediumContent.style.left=u.pos-t+"px";if(n.prop=="top")o.mediumContent.style.top=a.pos-t+"px"}}});hs.animate(this.content,t.content,n,f,l);if(e){this.wrapper.style.visibility="visible";this.content.style.visibility="visible";if(this.isHtml)this.innerContent.style.visibility="visible";this.a.className+=" highslide-active-anchor"}},fade:function(e,t){this.outlineWhileAnimating=false;var n=this,r=e?hs.expandDuration:0;if(e){hs.animate(this.wrapper,t.wrapper,0);hs.setStyles(this.wrapper,{opacity:0,visibility:"visible"});hs.animate(this.content,t.content,0);this.content.style.visibility="visible";hs.animate(this.wrapper,{opacity:1},r,null,function(){n.afterExpand()})}if(this.outline){this.outline.table.style.zIndex=this.wrapper.style.zIndex;var i=e||-1,s=this.outline.offset,o=e?3:s,u=e?s:3;for(var a=o;i*a<=i*u;a+=i,r+=25){(function(){var t=e?u-a:o-a;setTimeout(function(){n.outline.setPosition(0,t,1)},r)})()}}if(e){}else{setTimeout(function(){if(n.outline)n.outline.destroy(n.preserveContent);n.destroyOverlays();hs.animate(n.wrapper,{opacity:0},hs.restoreDuration,null,function(){n.afterClose()})},r)}},crossfade:function(e,t,n){if(!e)return;var r=this,i=this.last,s=this.x,o=this.y,u=i.x,a=i.y,f=this.wrapper,l=this.content,c=this.overlayBox;hs.removeEventListener(document,"mousemove",hs.dragHandler);hs.setStyles(l,{width:(s.imgSize||s.size)+"px",height:(o.imgSize||o.size)+"px"});if(c)c.style.overflow="visible";this.outline=i.outline;if(this.outline)this.outline.exp=r;i.outline=null;var h=hs.createElement("div",{className:"highslide-"+this.contentType},{position:"absolute",zIndex:4,overflow:"hidden",display:"none"});var p={oldImg:i,newImg:this};for(var d in p){this[d]=p[d].content.cloneNode(1);hs.setStyles(this[d],{position:"absolute",border:0,visibility:"visible"});h.appendChild(this[d])}f.appendChild(h);if(this.isHtml)hs.setStyles(this.mediumContent,{left:0,top:0});if(c){c.className="";f.appendChild(c)}h.style.display="";i.content.style.display="none";if(hs.safari&&hs.uaVersion<525){this.wrapper.style.visibility="visible"}hs.animate(f,{width:s.size},{duration:hs.transitionDuration,step:function(e,t){var n=t.pos,p=1-n;var d,v={},m=["pos","size","p1","p2"];for(var g in m){d=m[g];v["x"+d]=Math.round(p*u[d]+n*s[d]);v["y"+d]=Math.round(p*a[d]+n*o[d]);v.ximgSize=Math.round(p*(u.imgSize||u.size)+n*(s.imgSize||s.size));v.ximgPad=Math.round(p*u.get("imgPad")+n*s.get("imgPad"));v.yimgSize=Math.round(p*(a.imgSize||a.size)+n*(o.imgSize||o.size));v.yimgPad=Math.round(p*a.get("imgPad")+n*o.get("imgPad"))}if(r.outline)r.outline.setPosition({x:v.xpos,y:v.ypos,w:v.xsize+v.xp1+v.xp2+2*s.cb,h:v.ysize+v.yp1+v.yp2+2*o.cb});i.wrapper.style.clip="rect("+(v.ypos-a.pos)+"px, "+(v.xsize+v.xp1+v.xp2+v.xpos+2*u.cb-u.pos)+"px, "+(v.ysize+v.yp1+v.yp2+v.ypos+2*a.cb-a.pos)+"px, "+(v.xpos-u.pos)+"px)";hs.setStyles(l,{top:v.yp1+o.get("imgPad")+"px",left:v.xp1+s.get("imgPad")+"px",marginTop:o.pos-v.ypos+"px",marginLeft:s.pos-v.xpos+"px"});hs.setStyles(f,{top:v.ypos+"px",left:v.xpos+"px",width:v.xp1+v.xp2+v.xsize+2*s.cb+"px",height:v.yp1+v.yp2+v.ysize+2*o.cb+"px"});hs.setStyles(h,{width:(v.ximgSize||v.xsize)+"px",height:(v.yimgSize||v.ysize)+"px",left:v.xp1+v.ximgPad+"px",top:v.yp1+v.yimgPad+"px",visibility:"visible"});hs.setStyles(r.oldImg,{top:a.pos-v.ypos+a.p1-v.yp1+a.get("imgPad")-v.yimgPad+"px",left:u.pos-v.xpos+u.p1-v.xp1+u.get("imgPad")-v.ximgPad+"px"});hs.setStyles(r.newImg,{opacity:n,top:o.pos-v.ypos+o.p1-v.yp1+o.get("imgPad")-v.yimgPad+"px",left:s.pos-v.xpos+s.p1-v.xp1+s.get("imgPad")-v.ximgPad+"px"});if(c)hs.setStyles(c,{width:v.xsize+"px",height:v.ysize+"px",left:v.xp1+s.cb+"px",top:v.yp1+o.cb+"px"})},complete:function(){f.style.visibility=l.style.visibility="visible";l.style.display="block";hs.discardElement(h);r.afterExpand();i.afterClose();r.last=null}})},reuseOverlay:function(e,t){if(!this.last)return false;for(var n=0;n<this.last.overlays.length;n++){var r=hs.$("hsId"+this.last.overlays[n]);if(r&&r.hsId==e.hsId){this.genOverlayBox();r.reuse=this.key;hs.push(this.overlays,this.last.overlays[n]);return true}}return false},afterExpand:function(){this.isExpanded=true;this.focus();if(this.isHtml&&this.objectLoadTime=="after")this.writeExtendedContent();if(this.iframe){try{var e=this,t=this.iframe.contentDocument||this.iframe.contentWindow.document;hs.addEventListener(t,"mousedown",function(){if(hs.focusKey!=e.key)e.focus()})}catch(n){}if(hs.ie&&typeof this.isClosing!="boolean")this.iframe.style.width=this.objectWidth-1+"px"}if(this.dimmingOpacity)hs.dim(this);if(hs.upcoming&&hs.upcoming==this.a)hs.upcoming=null;this.prepareNextOutline();var r=hs.page,i=hs.mouse.x+r.scrollLeft,s=hs.mouse.y+r.scrollTop;this.mouseIsOver=this.x.pos<i&&i<this.x.pos+this.x.get("wsize")&&this.y.pos<s&&s<this.y.pos+this.y.get("wsize");if(this.overlayBox)this.showOverlays();hs.fireEvent(this,"onAfterExpand")},prepareNextOutline:function(){var e=this.key;var t=this.outlineType;new hs.Outline(t,function(){try{hs.expanders[e].preloadNext()}catch(t){}})},preloadNext:function(){var e=this.getAdjacentAnchor(1);if(e&&e.onclick.toString().match(/hs\.expand/))var t=hs.createElement("img",{src:hs.getSrc(e)})},getAdjacentAnchor:function(e){var t=this.getAnchorIndex(),n=hs.anchors.groups[this.slideshowGroup||"none"];if(n&&!n[t+e]&&this.slideshow&&this.slideshow.repeat){if(e==1)return n[0];else if(e==-1)return n[n.length-1]}return n&&n[t+e]||null},getAnchorIndex:function(){var e=hs.getAnchors().groups[this.slideshowGroup||"none"];if(e)for(var t=0;t<e.length;t++){if(e[t]==this.a)return t}return null},getNumber:function(){if(this[this.numberPosition]){var e=hs.anchors.groups[this.slideshowGroup||"none"];if(e){var t=hs.lang.number.replace("%1",this.getAnchorIndex()+1).replace("%2",e.length);this[this.numberPosition].innerHTML='<div class="highslide-number">'+t+"</div>"+this[this.numberPosition].innerHTML}}},initSlideshow:function(){if(!this.last){for(var e=0;e<hs.slideshows.length;e++){var t=hs.slideshows[e],n=t.slideshowGroup;if(typeof n=="undefined"||n===null||n===this.slideshowGroup)this.slideshow=new hs.Slideshow(this.key,t)}}else{this.slideshow=this.last.slideshow}var t=this.slideshow;if(!t)return;var r=t.expKey=this.key;t.checkFirstAndLast();t.disable("full-expand");if(t.controls){this.createOverlay(hs.extend(t.overlayOptions||{},{overlayId:t.controls,hsId:"controls",zIndex:5}))}if(t.thumbstrip)t.thumbstrip.add(this);if(!this.last&&this.autoplay)t.play(true);if(t.autoplay){t.autoplay=setTimeout(function(){hs.next(r)},t.interval||500)}},cancelLoading:function(){hs.discardElement(this.wrapper);hs.expanders[this.key]=null;if(hs.upcoming==this.a)hs.upcoming=null;hs.undim(this.key);if(this.loading)hs.loading.style.left="-9999px";hs.fireEvent(this,"onHideLoading")},writeCredits:function(){if(this.credits)return;this.credits=hs.createElement("a",{href:hs.creditsHref,target:hs.creditsTarget,className:"highslide-credits",innerHTML:hs.lang.creditsText,title:hs.lang.creditsTitle});this.createOverlay({overlayId:this.credits,position:this.creditsPosition||"top left",hsId:"credits"})},getInline:function(types,addOverlay){for(var i=0;i<types.length;i++){var type=types[i],s=null;if(type=="caption"&&!hs.fireEvent(this,"onBeforeGetCaption"))return;else if(type=="heading"&&!hs.fireEvent(this,"onBeforeGetHeading"))return;if(!this[type+"Id"]&&this.thumbsUserSetId)this[type+"Id"]=type+"-for-"+this.thumbsUserSetId;if(this[type+"Id"])this[type]=hs.getNode(this[type+"Id"]);if(!this[type]&&!this[type+"Text"]&&this[type+"Eval"])try{s=eval(this[type+"Eval"])}catch(e){}if(!this[type]&&this[type+"Text"]){s=this[type+"Text"]}if(!this[type]&&!s){this[type]=hs.getNode(this.a["_"+type+"Id"]);if(!this[type]){var next=this.a.nextSibling;while(next&&!hs.isHsAnchor(next)){if((new RegExp("highslide-"+type)).test(next.className||null)){if(!next.id)this.a["_"+type+"Id"]=next.id="hsId"+hs.idCounter++;this[type]=hs.getNode(next.id);break}next=next.nextSibling}}}if(!this[type]&&!s&&this.numberPosition==type)s="\n";if(!this[type]&&s)this[type]=hs.createElement("div",{className:"highslide-"+type,innerHTML:s});if(addOverlay&&this[type]){var o={position:type=="heading"?"above":"below"};for(var x in this[type+"Overlay"])o[x]=this[type+"Overlay"][x];o.overlayId=this[type];this.createOverlay(o)}}},doShowHide:function(e){if(hs.hideSelects)this.showHideElements("SELECT",e);if(hs.hideIframes)this.showHideElements("IFRAME",e);if(hs.geckoMac)this.showHideElements("*",e)},showHideElements:function(e,t){var n=document.getElementsByTagName(e);var r=e=="*"?"overflow":"visibility";for(var i=0;i<n.length;i++){if(r=="visibility"||document.defaultView.getComputedStyle(n[i],"").getPropertyValue("overflow")=="auto"||n[i].getAttribute("hidden-by")!=null){var s=n[i].getAttribute("hidden-by");if(t=="visible"&&s){s=s.replace("["+this.key+"]","");n[i].setAttribute("hidden-by",s);if(!s)n[i].style[r]=n[i].origProp}else if(t=="hidden"){var o=hs.getPosition(n[i]);o.w=n[i].offsetWidth;o.h=n[i].offsetHeight;if(!this.dimmingOpacity){var u=o.x+o.w<this.x.get("opos")||o.x>this.x.get("opos")+this.x.get("osize");var a=o.y+o.h<this.y.get("opos")||o.y>this.y.get("opos")+this.y.get("osize")}var f=hs.getWrapperKey(n[i]);if(!u&&!a&&f!=this.key){if(!s){n[i].setAttribute("hidden-by","["+this.key+"]");n[i].origProp=n[i].style[r];n[i].style[r]="hidden"}else if(s.indexOf("["+this.key+"]")==-1){n[i].setAttribute("hidden-by",s+"["+this.key+"]")}}else if((s=="["+this.key+"]"||hs.focusKey==f)&&f!=this.key){n[i].setAttribute("hidden-by","");n[i].style[r]=n[i].origProp||""}else if(s&&s.indexOf("["+this.key+"]")>-1){n[i].setAttribute("hidden-by",s.replace("["+this.key+"]",""))}}}}},focus:function(){this.wrapper.style.zIndex=hs.zIndexCounter+=2;for(var e=0;e<hs.expanders.length;e++){if(hs.expanders[e]&&e==hs.focusKey){var t=hs.expanders[e];t.content.className+=" highslide-"+t.contentType+"-blur";if(t.isImage){t.content.style.cursor=hs.ie?"hand":"pointer";t.content.title=hs.lang.focusTitle}hs.fireEvent(t,"onBlur")}}if(this.outline)this.outline.table.style.zIndex=this.wrapper.style.zIndex-1;this.content.className="highslide-"+this.contentType;if(this.isImage){this.content.title=hs.lang.restoreTitle;if(hs.restoreCursor){hs.styleRestoreCursor=window.opera?"pointer":"url("+hs.graphicsDir+hs.restoreCursor+"), pointer";if(hs.ie&&hs.uaVersion<6)hs.styleRestoreCursor="hand";this.content.style.cursor=hs.styleRestoreCursor}}hs.focusKey=this.key;hs.addEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);hs.fireEvent(this,"onFocus")},moveTo:function(e,t){this.x.setPos(e);this.y.setPos(t)},resize:function(e){var t,n,r=e.width/e.height;t=Math.max(e.width+e.dX,Math.min(this.minWidth,this.x.full));if(this.isImage&&Math.abs(t-this.x.full)<12)t=this.x.full;n=this.isHtml?e.height+e.dY:t/r;if(n<Math.min(this.minHeight,this.y.full)){n=Math.min(this.minHeight,this.y.full);if(this.isImage)t=n*r}this.resizeTo(t,n)},resizeTo:function(e,t){this.y.setSize(t);this.x.setSize(e);this.wrapper.style.height=this.y.get("wsize")+"px"},close:function(){if(this.isClosing||!this.isExpanded)return;if(this.transitions[1]=="crossfade"&&hs.upcoming){hs.getExpander(hs.upcoming).cancelLoading();hs.upcoming=null}if(!hs.fireEvent(this,"onBeforeClose"))return;this.isClosing=true;if(this.slideshow&&!hs.upcoming)this.slideshow.pause();hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);try{if(this.isHtml)this.htmlPrepareClose();this.content.style.cursor="default";this.changeSize(0,{wrapper:{width:this.x.t,height:this.y.t,left:this.x.tpos-this.x.cb+this.x.tb,top:this.y.tpos-this.y.cb+this.y.tb},content:{left:0,top:0,width:this.x.t,height:this.y.t}},hs.restoreDuration)}catch(e){this.afterClose()}},htmlPrepareClose:function(){if(hs.geckoMac){if(!hs.mask)hs.mask=hs.createElement("div",null,{position:"absolute"},hs.container);hs.setStyles(hs.mask,{width:this.x.size+"px",height:this.y.size+"px",left:this.x.pos+"px",top:this.y.pos+"px",display:"block"})}if(this.objectType=="swf")try{hs.$(this.body.id).StopPlay()}catch(e){}if(this.objectLoadTime=="after"&&!this.preserveContent)this.destroyObject();if(this.scrollerDiv&&this.scrollerDiv!=this.scrollingContent)this.scrollerDiv.style.overflow="hidden"},destroyObject:function(){if(hs.ie&&this.iframe)try{this.iframe.contentWindow.document.body.innerHTML=""}catch(e){}if(this.objectType=="swf")swfobject.removeSWF(this.body.id);this.body.innerHTML=""},sleep:function(){if(this.outline)this.outline.table.style.display="none";this.releaseMask=null;this.wrapper.style.display="none";this.isExpanded=false;hs.push(hs.sleeping,this)},awake:function(){try{hs.expanders[this.key]=this;if(!hs.allowMultipleInstances&&hs.focusKey!=this.key){try{hs.expanders[hs.focusKey].close()}catch(e){}}var t=hs.zIndexCounter++,n={display:"",zIndex:t};hs.setStyles(this.wrapper,n);this.isClosing=false;var r=this.outline||0;if(r){if(!this.outlineWhileAnimating)n.visibility="hidden";hs.setStyles(r.table,n)}if(this.slideshow){this.initSlideshow()}this.show()}catch(e){}},createOverlay:function(e){var t=e.overlayId,n=e.relativeTo=="viewport"&&!/panel$/.test(e.position);if(typeof t=="string")t=hs.getNode(t);if(e.html)t=hs.createElement("div",{innerHTML:e.html});if(!t||typeof t=="string")return;if(!hs.fireEvent(this,"onCreateOverlay",{overlay:t}))return;t.style.display="block";e.hsId=e.hsId||e.overlayId;if(this.transitions[1]=="crossfade"&&this.reuseOverlay(e,t))return;this.genOverlayBox();var r=e.width&&/^[0-9]+(px|%)$/.test(e.width)?e.width:"auto";if(/^(left|right)panel$/.test(e.position)&&!/^[0-9]+px$/.test(e.width))r="200px";var i=hs.createElement("div",{id:"hsId"+hs.idCounter++,hsId:e.hsId},{position:"absolute",visibility:"hidden",width:r,direction:hs.lang.cssDirection||"",opacity:0},n?hs.viewport:this.overlayBox,true);if(n)i.hsKey=this.key;i.appendChild(t);hs.extend(i,{opacity:1,offsetX:0,offsetY:0,dur:e.fade===0||e.fade===false||e.fade==2&&hs.ie?0:250});hs.extend(i,e);if(this.gotOverlays){this.positionOverlay(i);if(!i.hideOnMouseOut||this.mouseIsOver)hs.animate(i,{opacity:i.opacity},i.dur)}hs.push(this.overlays,hs.idCounter-1)},positionOverlay:function(e){var t=e.position||"middle center",n=e.relativeTo=="viewport",r=e.offsetX,i=e.offsetY;if(n){hs.viewport.style.display="block";e.hsKey=this.key;if(e.offsetWidth>e.parentNode.offsetWidth)e.style.width="100%"}else if(e.parentNode!=this.overlayBox)this.overlayBox.appendChild(e);if(/left$/.test(t))e.style.left=r+"px";if(/center$/.test(t))hs.setStyles(e,{left:"50%",marginLeft:r-Math.round(e.offsetWidth/2)+"px"});if(/right$/.test(t))e.style.right=-r+"px";if(/^leftpanel$/.test(t)){hs.setStyles(e,{right:"100%",marginRight:this.x.cb+"px",top:-this.y.cb+"px",bottom:-this.y.cb+"px",overflow:"auto"});this.x.p1=e.offsetWidth}else if(/^rightpanel$/.test(t)){hs.setStyles(e,{left:"100%",marginLeft:this.x.cb+"px",top:-this.y.cb+"px",bottom:-this.y.cb+"px",overflow:"auto"});this.x.p2=e.offsetWidth}var s=e.parentNode.offsetHeight;e.style.height="auto";if(n&&e.offsetHeight>s)e.style.height=hs.ieLt7?s+"px":"100%";if(/^top/.test(t))e.style.top=i+"px";if(/^middle/.test(t))hs.setStyles(e,{top:"50%",marginTop:i-Math.round(e.offsetHeight/2)+"px"});if(/^bottom/.test(t))e.style.bottom=-i+"px";if(/^above$/.test(t)){hs.setStyles(e,{left:-this.x.p1-this.x.cb+"px",right:-this.x.p2-this.x.cb+"px",bottom:"100%",marginBottom:this.y.cb+"px",width:"auto"});this.y.p1=e.offsetHeight}else if(/^below$/.test(t)){hs.setStyles(e,{position:"relative",left:-this.x.p1-this.x.cb+"px",right:-this.x.p2-this.x.cb+"px",top:"100%",marginTop:this.y.cb+"px",width:"auto"});this.y.p2=e.offsetHeight;e.style.position="absolute"}},getOverlays:function(){this.getInline(["heading","caption"],true);this.getNumber();if(this.caption)hs.fireEvent(this,"onAfterGetCaption");if(this.heading)hs.fireEvent(this,"onAfterGetHeading");if(this.heading&&this.dragByHeading)this.heading.className+=" highslide-move";if(hs.showCredits)this.writeCredits();for(var e=0;e<hs.overlays.length;e++){var t=hs.overlays[e],n=t.thumbnailId,r=t.slideshowGroup;if(!n&&!r||n&&n==this.thumbsUserSetId||r&&r===this.slideshowGroup){if(this.isImage||this.isHtml&&t.useOnHtml)this.createOverlay(t)}}var i=[];for(var e=0;e<this.overlays.length;e++){var t=hs.$("hsId"+this.overlays[e]);if(/panel$/.test(t.position))this.positionOverlay(t);else hs.push(i,t)}for(var e=0;e<i.length;e++)this.positionOverlay(i[e]);this.gotOverlays=true},genOverlayBox:function(){if(!this.overlayBox)this.overlayBox=hs.createElement("div",{className:this.wrapperClassName},{position:"absolute",width:(this.x.size||(this.useBox?this.width:null)||this.x.full)+"px",height:(this.y.size||this.y.full)+"px",visibility:"hidden",overflow:"hidden",zIndex:hs.ie?4:"auto"},hs.container,true)},sizeOverlayBox:function(e,t){var n=this.overlayBox,r=this.x,i=this.y;hs.setStyles(n,{width:r.size+"px",height:i.size+"px"});if(e||t){for(var s=0;s<this.overlays.length;s++){var o=hs.$("hsId"+this.overlays[s]);var u=hs.ieLt7||document.compatMode=="BackCompat";if(o&&/^(above|below)$/.test(o.position)){if(u){o.style.width=n.offsetWidth+2*r.cb+r.p1+r.p2+"px"}i[o.position=="above"?"p1":"p2"]=o.offsetHeight}if(o&&u&&/^(left|right)panel$/.test(o.position)){o.style.height=n.offsetHeight+2*i.cb+"px"}}}if(e){hs.setStyles(this.content,{top:i.p1+"px"});hs.setStyles(n,{top:i.p1+i.cb+"px"})}},showOverlays:function(){var e=this.overlayBox;e.className="";hs.setStyles(e,{top:this.y.p1+this.y.cb+"px",left:this.x.p1+this.x.cb+"px",overflow:"visible"});if(hs.safari)e.style.visibility="visible";this.wrapper.appendChild(e);for(var t=0;t<this.overlays.length;t++){var n=hs.$("hsId"+this.overlays[t]);n.style.zIndex=n.zIndex||4;if(!n.hideOnMouseOut||this.mouseIsOver){n.style.visibility="visible";hs.setStyles(n,{visibility:"visible",display:""});hs.animate(n,{opacity:n.opacity},n.dur)}}},destroyOverlays:function(){if(!this.overlays.length)return;if(this.slideshow){var e=this.slideshow.controls;if(e&&hs.getExpander(e)==this)e.parentNode.removeChild(e)}for(var t=0;t<this.overlays.length;t++){var n=hs.$("hsId"+this.overlays[t]);if(n&&n.parentNode==hs.viewport&&hs.getExpander(n)==this)hs.discardElement(n)}if(this.isHtml&&this.preserveContent){this.overlayBox.style.top="-9999px";hs.container.appendChild(this.overlayBox)}else hs.discardElement(this.overlayBox)},createFullExpand:function(){if(this.slideshow&&this.slideshow.controls){this.slideshow.enable("full-expand");return}this.fullExpandLabel=hs.createElement("a",{href:"javascript:hs.expanders["+this.key+"].doFullExpand();",title:hs.lang.fullExpandTitle,className:"highslide-full-expand"});if(!hs.fireEvent(this,"onCreateFullExpand"))return;this.createOverlay({overlayId:this.fullExpandLabel,position:hs.fullExpandPosition,hideOnMouseOut:true,opacity:hs.fullExpandOpacity})},doFullExpand:function(){try{if(!hs.fireEvent(this,"onDoFullExpand"))return;if(this.fullExpandLabel)hs.discardElement(this.fullExpandLabel);this.focus();var e=this.x.size;this.resizeTo(this.x.full,this.y.full);var t=this.x.pos-(this.x.size-e)/2;if(t<hs.marginLeft)t=hs.marginLeft;this.moveTo(t,this.y.pos);this.doShowHide("hidden")}catch(n){this.error(n)}},afterClose:function(){this.a.className=this.a.className.replace("highslide-active-anchor","");this.doShowHide("visible");if(this.isHtml&&this.preserveContent&&this.transitions[1]!="crossfade"){this.sleep()}else{if(this.outline&&this.outlineWhileAnimating)this.outline.destroy();hs.discardElement(this.wrapper)}if(hs.mask)hs.mask.style.display="none";this.destroyOverlays();if(!hs.viewport.childNodes.length)hs.viewport.style.display="none";if(this.dimmingOpacity)hs.undim(this.key);hs.fireEvent(this,"onAfterClose");hs.expanders[this.key]=null;hs.reOrder()}};hs.Ajax=function(e,t,n){this.a=e;this.content=t;this.pre=n};hs.Ajax.prototype={run:function(){var e;if(!this.src)this.src=hs.getSrc(this.a);if(this.src.match("#")){var t=this.src.split("#");this.src=t[0];this.id=t[1]}if(hs.cachedGets[this.src]){this.cachedGet=hs.cachedGets[this.src];if(this.id)this.getElementContent();else this.loadHTML();return}try{e=new XMLHttpRequest}catch(n){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(n){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(n){this.onError()}}}var r=this;e.onreadystatechange=function(){if(r.xhr.readyState==4){if(r.id)r.getElementContent();else r.loadHTML()}};var i=this.src;this.xhr=e;if(hs.forceAjaxReload)i=i.replace(/$/,(/\?/.test(i)?"&":"?")+"dummy="+(new Date).getTime());e.open("GET",i,true);e.setRequestHeader("X-Requested-With","XMLHttpRequest");e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");e.send(null)},getElementContent:function(){hs.init();var e=window.opera||hs.ie6SSL?{src:"about:blank"}:null;this.iframe=hs.createElement("iframe",e,{position:"absolute",top:"-9999px"},hs.container);this.loadHTML()},loadHTML:function(){var e=this.cachedGet||this.xhr.responseText,t;if(this.pre)hs.cachedGets[this.src]=e;if(!hs.ie||hs.uaVersion>=5.5){e=e.replace(new RegExp("<link[^>]*>","gi"),"").replace(new RegExp("<script[^>]*>.*?</script>","gi"),"");if(this.iframe){var n=this.iframe.contentDocument;if(!n&&this.iframe.contentWindow)n=this.iframe.contentWindow.document;if(!n){var r=this;setTimeout(function(){r.loadHTML()},25);return}n.open();n.write(e);n.close();try{e=n.getElementById(this.id).innerHTML}catch(i){try{e=this.iframe.document.getElementById(this.id).innerHTML}catch(i){}}hs.discardElement(this.iframe)}else{t=/(<body[^>]*>|<\/body>)/ig;if(t.test(e))e=e.split(t)[hs.ie?1:2]}}hs.getElementByClass(this.content,"DIV","highslide-body").innerHTML=e;this.onLoad();for(var s in this)this[s]=null}};hs.Slideshow=function(e,t){if(hs.dynamicallyUpdateAnchors!==false)hs.updateAnchors();this.expKey=e;for(var n in t)this[n]=t[n];if(this.useControls)this.getControls();if(this.thumbstrip)this.thumbstrip=hs.Thumbstrip(this)};hs.Slideshow.prototype={getControls:function(){this.controls=hs.createElement("div",{innerHTML:hs.replaceLang(hs.skin.controls)},null,hs.container);var e=["play","pause","previous","next","move","full-expand","close"];this.btn={};var t=this;for(var n=0;n<e.length;n++){this.btn[e[n]]=hs.getElementByClass(this.controls,"li","highslide-"+e[n]);this.enable(e[n])}this.btn.pause.style.display="none"},checkFirstAndLast:function(){if(this.repeat||!this.controls)return;var e=hs.expanders[this.expKey],t=e.getAnchorIndex(),n=/disabled$/;if(t==0)this.disable("previous");else if(n.test(this.btn.previous.getElementsByTagName("a")[0].className))this.enable("previous");if(t+1==hs.anchors.groups[e.slideshowGroup||"none"].length){this.disable("next");this.disable("play")}else if(n.test(this.btn.next.getElementsByTagName("a")[0].className)){this.enable("next");this.enable("play")}},enable:function(e){if(!this.btn)return;var t=this,n=this.btn[e].getElementsByTagName("a")[0],r=/disabled$/;n.onclick=function(){t[e]();return false};if(r.test(n.className))n.className=n.className.replace(r,"")},disable:function(e){if(!this.btn)return;var t=this.btn[e].getElementsByTagName("a")[0];t.onclick=function(){return false};if(!/disabled$/.test(t.className))t.className+=" disabled"},hitSpace:function(){if(this.autoplay)this.pause();else this.play()},play:function(e){if(this.btn){this.btn.play.style.display="none";this.btn.pause.style.display=""}this.autoplay=true;if(!e)hs.next(this.expKey)},pause:function(){if(this.btn){this.btn.pause.style.display="none";this.btn.play.style.display=""}clearTimeout(this.autoplay);this.autoplay=null},previous:function(){this.pause();hs.previous(this.btn.previous)},next:function(){this.pause();hs.next(this.btn.next)},move:function(){},"full-expand":function(){hs.getExpander().doFullExpand()},close:function(){hs.close(this.btn.close)}};hs.Thumbstrip=function(e){function t(e){hs.extend(s||{},{overlayId:l,hsId:"thumbstrip",className:"highslide-thumbstrip-"+o+"-overlay "+(s.className||"")});if(hs.ieLt7)s.fade=0;e.createOverlay(s);hs.setStyles(l.parentNode,{overflow:"hidden"})}function n(e){r(undefined,Math.round(e*l[f?"offsetWidth":"offsetHeight"]*.7))}function r(t,n){if(t===undefined)for(var r=0;r<i.length;r++){if(i[r]==hs.expanders[e.expKey].a){t=r;break}}if(t===undefined)return;var s=l.getElementsByTagName("a"),o=s[t],u=o.parentNode,a=f?"Left":"Top",c=f?"Right":"Bottom",g=f?"Width":"Height",y="offset"+a,b="offset"+g,w=h.parentNode.parentNode[b],E=w-m[b],S=parseInt(m.style[f?"left":"top"])||0,x=S,T=20;if(n!==undefined){x=S-n;if(E>0)E=0;if(x>0)x=0;if(x<E)x=E}else{for(var r=0;r<s.length;r++)s[r].className="";o.className="highslide-active-anchor";var N=t>0?s[t-1].parentNode[y]:u[y],C=u[y]+u[b]+(s[t+1]?s[t+1].parentNode[b]:0);if(C>w-S)x=w-C;else if(N<-S)x=-N}var k=u[y]+(u[b]-v[b])/2+x;hs.animate(m,f?{left:x}:{top:x},null,"easeOutQuad");hs.animate(v,f?{left:k}:{top:k},null,"easeOutQuad");p.style.display=x<0?"block":"none";d.style.display=x>E?"block":"none"}var i=hs.anchors.groups[hs.expanders[e.expKey].slideshowGroup||"none"],s=e.thumbstrip,o=s.mode||"horizontal",u=o=="float",a=u?["div","ul","li","span"]:["table","tbody","tr","td"],f=o=="horizontal",l=hs.createElement("div",{className:"highslide-thumbstrip highslide-thumbstrip-"+o,innerHTML:'<div class="highslide-thumbstrip-inner">'+"<"+a[0]+"><"+a[1]+"></"+a[1]+"></"+a[0]+"></div>"+'<div class="highslide-scroll-up"><div></div></div>'+'<div class="highslide-scroll-down"><div></div></div>'+'<div class="highslide-marker"><div></div></div>'},{display:"none"},hs.container),c=l.childNodes,h=c[0],p=c[1],d=c[2],v=c[3],m=h.firstChild,g=l.getElementsByTagName(a[1])[0],y;for(var b=0;b<i.length;b++){if(b==0||!f)y=hs.createElement(a[2],null,null,g);(function(){var e=i[b],t=hs.createElement(a[3],null,null,y),n=b;hs.createElement("a",{href:e.href,onclick:function(){hs.getExpander(this).focus();return hs.transit(e)},innerHTML:hs.stripItemFormatter?hs.stripItemFormatter(e):e.innerHTML},null,t)})()}if(!u){p.onclick=function(){n(-1)};d.onclick=function(){n(1)};hs.addEventListener(g,document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll",function(e){var t=0;e=e||window.event;if(e.wheelDelta){t=e.wheelDelta/120;if(hs.opera)t=-t}else if(e.detail){t=-e.detail/3}if(t)n(-t*.2);if(e.preventDefault)e.preventDefault();e.returnValue=false})}return{add:t,selectThumb:r}};hs.langDefaults=hs.lang;var HsExpander=hs.Expander;if(hs.ie&&window==window.top){(function(){try{document.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,50);return}hs.ready()})()}hs.addEventListener(document,"DOMContentLoaded",hs.ready);hs.addEventListener(window,"load",hs.ready);hs.addEventListener(document,"ready",function(){if(hs.expandCursor||hs.dimmingOpacity){var e=hs.createElement("style",{type:"text/css"},null,document.getElementsByTagName("HEAD")[0]);function t(t,n){if(!hs.ie){e.appendChild(document.createTextNode(t+" {"+n+"}"))}else{var r=document.styleSheets[document.styleSheets.length-1];if(typeof r.addRule=="object")r.addRule(t,n)}}function n(e){return"expression( ( ( ignoreMe = document.documentElement."+e+" ? document.documentElement."+e+" : document.body."+e+" ) ) + 'px' );"}if(hs.expandCursor)t(".highslide img","cursor: url("+hs.graphicsDir+hs.expandCursor+"), pointer !important;");t(".highslide-viewport-size",hs.ie&&(hs.uaVersion<7||document.compatMode=="BackCompat")?"position: absolute; "+"left:"+n("scrollLeft")+"top:"+n("scrollTop")+"width:"+n("clientWidth")+"height:"+n("clientHeight"):"position: fixed; width: 100%; height: 100%; left: 0; top: 0")}});hs.addEventListener(window,"resize",function(){hs.getPageSize();if(hs.viewport)for(var e=0;e<hs.viewport.childNodes.length;e++){var t=hs.viewport.childNodes[e],n=hs.getExpander(t);n.positionOverlay(t);if(t.hsId=="thumbstrip")n.slideshow.thumbstrip.selectThumb()}});hs.addEventListener(document,"mousemove",function(e){hs.mouse={x:e.clientX,y:e.clientY}});hs.addEventListener(document,"mousedown",hs.mouseClickHandler);hs.addEventListener(document,"mouseup",hs.mouseClickHandler);hs.addEventListener(document,"ready",hs.setClickEvents);hs.addEventListener(window,"load",hs.preloadImages);hs.addEventListener(window,"load",hs.preloadAjax)}